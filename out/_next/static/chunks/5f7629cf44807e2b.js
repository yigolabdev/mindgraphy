(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23750,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(47163);let r=a.forwardRef(({className:e,type:a,...r},i)=>(0,t.jsx)("input",{type:a,className:(0,s.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...r}));r.displayName="Input",e.s(["Input",()=>r])},16550,e=>{"use strict";let t={lessThanXSeconds:{one:"1초 미만",other:"{{count}}초 미만"},xSeconds:{one:"1초",other:"{{count}}초"},halfAMinute:"30초",lessThanXMinutes:{one:"1분 미만",other:"{{count}}분 미만"},xMinutes:{one:"1분",other:"{{count}}분"},aboutXHours:{one:"약 1시간",other:"약 {{count}}시간"},xHours:{one:"1시간",other:"{{count}}시간"},xDays:{one:"1일",other:"{{count}}일"},aboutXWeeks:{one:"약 1주",other:"약 {{count}}주"},xWeeks:{one:"1주",other:"{{count}}주"},aboutXMonths:{one:"약 1개월",other:"약 {{count}}개월"},xMonths:{one:"1개월",other:"{{count}}개월"},aboutXYears:{one:"약 1년",other:"약 {{count}}년"},xYears:{one:"1년",other:"{{count}}년"},overXYears:{one:"1년 이상",other:"{{count}}년 이상"},almostXYears:{one:"거의 1년",other:"거의 {{count}}년"}};var a=e.i(15e3);let s={date:(0,a.buildFormatLongFn)({formats:{full:"y년 M월 d일 EEEE",long:"y년 M월 d일",medium:"y.MM.dd",short:"y.MM.dd"},defaultWidth:"full"}),time:(0,a.buildFormatLongFn)({formats:{full:"a H시 mm분 ss초 zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:(0,a.buildFormatLongFn)({formats:{full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})},r={lastWeek:"'지난' eeee p",yesterday:"'어제' p",today:"'오늘' p",tomorrow:"'내일' p",nextWeek:"'다음' eeee p",other:"P"};var i=e.i(79564);let n={ordinalNumber:(e,t)=>{let a=Number(e);switch(String(t?.unit)){case"minute":case"second":return String(a);case"date":return a+"일";default:return a+"번째"}},era:(0,i.buildLocalizeFn)({values:{narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["기원전","서기"]},defaultWidth:"wide"}),quarter:(0,i.buildLocalizeFn)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1분기","2분기","3분기","4분기"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:(0,i.buildLocalizeFn)({values:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],wide:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},defaultWidth:"wide"}),day:(0,i.buildLocalizeFn)({values:{narrow:["일","월","화","수","목","금","토"],short:["일","월","화","수","목","금","토"],abbreviated:["일","월","화","수","목","금","토"],wide:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},defaultWidth:"wide"}),dayPeriod:(0,i.buildLocalizeFn)({values:{narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},defaultWidth:"wide",formattingValues:{narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},defaultFormattingWidth:"wide"})};var o=e.i(16283);let d={ordinalNumber:(0,e.i(10961).buildMatchPatternFn)({matchPattern:/^(\d+)(일|번째)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:(0,o.buildMatchFn)({matchPatterns:{narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(기원전|서기)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^(bc|기원전)/i,/^(ad|서기)/i]},defaultParseWidth:"any"}),quarter:(0,o.buildMatchFn)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]사?분기/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:(0,o.buildMatchFn)({matchPatterns:{narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])월/i,wide:/^(1[012]|[123456789])월/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^1월?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},defaultParseWidth:"any"}),day:(0,o.buildMatchFn)({matchPatterns:{narrow:/^[일월화수목금토]/,short:/^[일월화수목금토]/,abbreviated:/^[일월화수목금토]/,wide:/^[일월화수목금토]요일/},defaultMatchWidth:"wide",parsePatterns:{any:[/^일/,/^월/,/^화/,/^수/,/^목/,/^금/,/^토/]},defaultParseWidth:"any"}),dayPeriod:(0,o.buildMatchFn)({matchPatterns:{any:/^(am|pm|오전|오후|자정|정오|아침|저녁|밤)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^(am|오전)/i,pm:/^(pm|오후)/i,midnight:/^자정/i,noon:/^정오/i,morning:/^아침/i,afternoon:/^오후/i,evening:/^저녁/i,night:/^밤/i}},defaultParseWidth:"any"})};e.s(["ko",0,{code:"ko",formatDistance:(e,a,s)=>{let r,i=t[e];if(r="string"==typeof i?i:1===a?i.one:i.other.replace("{{count}}",a.toString()),s?.addSuffix)if(s.comparison&&s.comparison>0)return r+" 후";else return r+" 전";return r},formatLong:s,formatRelative:(e,t,a,s)=>r[e],localize:n,match:d,options:{weekStartsOn:0,firstWeekContainsDate:1}}],16550)},63209,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},95468,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},94351,e=>{"use strict";let t=(0,e.i(75254).default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]);e.s(["Home",()=>t],94351)},7267,40160,61659,e=>{"use strict";var t=e.i(43476),a=e.i(22016),s=e.i(18566),r=e.i(94351),i=e.i(78583),n=e.i(73708),o=e.i(75254);let d=(0,o.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>d],40160);let l=(0,o.default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);e.s(["CreditCard",()=>l],61659);var c=e.i(47163),m=e.i(71829);function u({token:e}){let o=(0,s.usePathname)(),u=[{name:"홈",href:m.ROUTES.CLIENT_PORTAL(e),icon:r.Home},{name:"계약서",href:m.ROUTES.CLIENT_CONTRACT(e),icon:i.FileText},{name:"프루프 갤러리",href:m.ROUTES.CLIENT_PROOF(e),icon:n.Image},{name:"다운로드",href:m.ROUTES.CLIENT_DOWNLOAD(e),icon:d},{name:"결제 정보",href:m.ROUTES.CLIENT_PAYMENT(e),icon:l}];return(0,t.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/60",children:(0,t.jsxs)("div",{className:"container mx-auto flex h-16 items-center px-4 max-w-7xl",children:[(0,t.jsxs)(a.default,{href:m.ROUTES.CLIENT_PORTAL(e),className:"flex items-center gap-2 mr-6 flex-shrink-0",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-zinc-900 text-white font-bold text-sm",children:"M"}),(0,t.jsx)("span",{className:"text-lg font-semibold hidden sm:inline-block",children:"MindGraphy"})]}),(0,t.jsx)("nav",{className:"flex items-center gap-1 flex-1 overflow-x-auto",children:u.map(e=>{let s=o===e.href;return(0,t.jsxs)(a.default,{href:e.href,className:(0,c.cn)("flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-colors whitespace-nowrap",s?"bg-zinc-100 text-zinc-900":"text-zinc-600 hover:bg-zinc-50 hover:text-zinc-900"),children:[(0,t.jsx)(e.icon,{className:"h-4 w-4 flex-shrink-0"}),(0,t.jsx)("span",{className:"hidden md:inline",children:e.name})]},e.name)})}),(0,t.jsx)("div",{className:"ml-4 flex items-center gap-2 text-sm flex-shrink-0",children:(0,t.jsx)("span",{className:"hidden sm:inline text-zinc-600 truncate max-w-[200px]",children:"홍길동 & 김영희"})})]})})}function h({children:e,token:a}){return(0,t.jsxs)("div",{className:"min-h-screen bg-zinc-50",children:[(0,t.jsx)(u,{token:a}),(0,t.jsx)("main",{className:"container mx-auto p-4 md:p-6 max-w-7xl",children:e})]})}e.s(["ClientPortalLayout",()=>h],7267)},99997,e=>{"use strict";var t=e.i(95727),a=e.i(51371),s=e.i(1851);let r=new Date,i={"demo-token-2025":{token:"demo-token-2025",isValid:!0,isExpired:!1,groomName:"김민준",brideName:"이서연",weddingDate:(0,s.format)((0,a.subDays)(r,7),"yyyy-MM-dd"),venueName:"서울 그랜드 호텔",contractId:"contract-001",contractStatus:"active",contractSignedAt:(0,s.format)((0,a.subDays)(r,30),"yyyy-MM-dd"),currentStep:"proof",steps:{contract:{status:"completed",completedAt:(0,s.format)((0,a.subDays)(r,30),"yyyy-MM-dd")},info:{status:"completed",completedAt:(0,s.format)((0,a.subDays)(r,28),"yyyy-MM-dd"),deadline:(0,s.format)((0,a.subDays)(r,25),"yyyy-MM-dd")},proof:{status:"in_progress",deadline:(0,s.format)((0,t.addDays)(r,3),"yyyy-MM-dd"),totalPhotos:450,selectedPhotos:35,maxSelections:50},download:{status:"pending"}},photographerName:"박선우",photographerPhone:"010-1234-5678",photographerEmail:"park.photographer@mindgraphy.com",packageName:"프리미엄 웨딩 패키지",packageType:"premium",hasUnreadNotifications:!0,unreadCount:2},"token-001":{token:"token-001",isValid:!0,isExpired:!1,groomName:"홍길동",brideName:"김영희",weddingDate:(0,s.format)((0,t.addDays)(r,60),"yyyy-MM-dd"),venueName:"코엑스 그랜드 볼룸",contractId:"contract-002",contractStatus:"signed",contractSignedAt:(0,s.format)((0,a.subDays)(r,1),"yyyy-MM-dd"),currentStep:"info",steps:{contract:{status:"completed",completedAt:(0,s.format)((0,a.subDays)(r,1),"yyyy-MM-dd")},info:{status:"in_progress",deadline:(0,s.format)((0,t.addDays)(r,7),"yyyy-MM-dd")},proof:{status:"pending"},download:{status:"pending"}},photographerName:"최지훈",photographerPhone:"010-2345-6789",photographerEmail:"choi.photographer@mindgraphy.com",packageName:"스탠다드 웨딩 패키지",packageType:"standard",hasUnreadNotifications:!0,unreadCount:1},"token-002":{token:"token-002",isValid:!0,isExpired:!1,groomName:"박준호",brideName:"윤서아",weddingDate:(0,s.format)((0,t.addDays)(r,45),"yyyy-MM-dd"),venueName:"신라호텔",contractId:"contract-003",contractStatus:"sent",currentStep:"contract",steps:{contract:{status:"in_progress"},info:{status:"pending",deadline:(0,s.format)((0,t.addDays)(r,2),"yyyy-MM-dd")},proof:{status:"pending"},download:{status:"pending"}},photographerName:"김태형",photographerPhone:"010-3456-7890",photographerEmail:"kim.photographer@mindgraphy.com",packageName:"베이직 웨딩 패키지",packageType:"basic",hasUnreadNotifications:!1,unreadCount:0},"token-003":{token:"token-003",isValid:!0,isExpired:!1,groomName:"정우성",brideName:"한가인",weddingDate:(0,s.format)((0,t.addDays)(r,30),"yyyy-MM-dd"),venueName:"파라다이스 호텔",contractId:"contract-004",contractStatus:"active",contractSignedAt:(0,s.format)((0,a.subDays)(r,15),"yyyy-MM-dd"),currentStep:"info",steps:{contract:{status:"completed",completedAt:(0,s.format)((0,a.subDays)(r,15),"yyyy-MM-dd")},info:{status:"overdue",deadline:(0,s.format)((0,a.subDays)(r,2),"yyyy-MM-dd")},proof:{status:"pending"},download:{status:"pending"}},photographerName:"이준희",photographerPhone:"010-4567-8901",photographerEmail:"lee.photographer@mindgraphy.com",packageName:"프리미엄 웨딩 패키지",packageType:"premium",hasUnreadNotifications:!0,unreadCount:3},"token-004":{token:"token-004",isValid:!0,isExpired:!1,groomName:"송중기",brideName:"송혜교",weddingDate:(0,s.format)((0,a.subDays)(r,30),"yyyy-MM-dd"),venueName:"신라호텔",contractId:"contract-005",contractStatus:"completed",contractSignedAt:(0,s.format)((0,a.subDays)(r,90),"yyyy-MM-dd"),currentStep:"download",steps:{contract:{status:"completed",completedAt:(0,s.format)((0,a.subDays)(r,90),"yyyy-MM-dd")},info:{status:"completed",completedAt:(0,s.format)((0,a.subDays)(r,85),"yyyy-MM-dd"),deadline:(0,s.format)((0,a.subDays)(r,80),"yyyy-MM-dd")},proof:{status:"completed",completedAt:(0,s.format)((0,a.subDays)(r,15),"yyyy-MM-dd"),deadline:(0,s.format)((0,a.subDays)(r,10),"yyyy-MM-dd"),totalPhotos:520,selectedPhotos:50,maxSelections:50},download:{status:"in_progress",deadline:(0,s.format)((0,t.addDays)(r,30),"yyyy-MM-dd"),availableFiles:3,downloadedFiles:1}},photographerName:"박선우",photographerPhone:"010-1234-5678",photographerEmail:"park.photographer@mindgraphy.com",packageName:"프리미엄 웨딩 패키지",packageType:"premium",hasUnreadNotifications:!1,unreadCount:0}},n=e=>Math.ceil((new Date(e).getTime()-r.getTime())/864e5);e.s(["getClientDataByToken",0,e=>i[e]||null,"getDaysUntilDeadline",0,n,"getStepLabel",0,e=>({contract:"계약 확인",info:"정보 입력",proof:"사진 선택",download:"다운로드"})[e],"getStepPath",0,(e,t)=>({contract:`/c/${e}/contract`,info:`/c/${e}/info`,proof:`/c/${e}/proof-gallery`,download:`/c/${e}/download`})[t],"isDeadlineNear",0,e=>{let t=n(e);return t>=0&&t<=3},"isDeadlineOverdue",0,e=>0>n(e)])},94179,e=>{"use strict";var t=e.i(43476),a=e.i(25913),s=e.i(47163);let r=(0,a.cva)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:a,...i}){return(0,t.jsx)("div",{className:(0,s.cn)(r({variant:a}),e),...i})}e.s(["Badge",()=>i])},87316,e=>{"use strict";let t=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],3116)},86536,e=>{"use strict";let t=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},11828,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(18566),r=e.i(22016),i=e.i(7267),n=e.i(70065),o=e.i(67881),d=e.i(23750),l=e.i(94179),c=e.i(99997),m=e.i(95727),u=e.i(51371),h=e.i(1851);let p=new Date,x=[{id:"file-1",name:"최종 보정 사진 (고해상도)",type:"final",description:"선택하신 50장의 최종 보정 사진입니다",size:"2.4 GB",sizeBytes:24e8,format:"ZIP (JPEG)",expiresAt:(0,h.format)((0,m.addDays)(p,30),"yyyy-MM-dd"),isExpired:!1,requiresPassword:!0,password:"1234",downloadCount:1,maxDownloads:5},{id:"file-2",name:"원본 사진 (전체)",type:"original",description:"촬영된 모든 원본 사진 (450장)",size:"8.7 GB",sizeBytes:87e8,format:"ZIP (RAW + JPEG)",expiresAt:(0,h.format)((0,m.addDays)(p,60),"yyyy-MM-dd"),isExpired:!1,requiresPassword:!1,downloadCount:0,maxDownloads:3},{id:"file-3",name:"디지털 앨범 PDF",type:"album",description:"디자인 편집된 앨범 파일",size:"156 MB",sizeBytes:156e6,format:"PDF",expiresAt:(0,h.format)((0,m.addDays)(p,90),"yyyy-MM-dd"),isExpired:!1,requiresPassword:!1,downloadCount:2,maxDownloads:10}],y={id:"file-expired",name:"스냅 사진 (이전 버전)",type:"original",description:"이전에 제공되었던 스냅 사진",size:"1.2 GB",sizeBytes:12e8,format:"ZIP (JPEG)",expiresAt:(0,h.format)((0,u.subDays)(p,5),"yyyy-MM-dd"),isExpired:!0,requiresPassword:!1,downloadCount:3,maxDownloads:5};var g=e.i(40160),f=e.i(75254);let b=(0,f.default)("file-archive",[["path",{d:"M13.659 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v11.5",key:"4pqfef"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 12v-1",key:"1ej8lb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M8 7V6",key:"1nbb54"}],["circle",{cx:"8",cy:"20",r:"2",key:"ckkr5m"}]]),w=(0,f.default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var v=e.i(63209),N=e.i(95468),j=e.i(3116);let k=(0,f.default)("hard-drive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);var M=e.i(87316);let D=(0,f.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var C=e.i(86536);let P=(0,f.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var E=e.i(46696),S=e.i(47163),A=e.i(16550);function z({params:e}){let{token:m}=(0,a.use)(e),u=(0,s.useRouter)(),f=(0,c.getClientDataByToken)(m),[z]=(0,a.useState)([...x,y]),[T,F]=(0,a.useState)({}),[L,W]=(0,a.useState)({}),[I,B]=(0,a.useState)({});if(!f)return u.push(`/c/${m}/invalid`),null;let H=async e=>{B(t=>({...t,[e.id]:!0}));let t=e.requiresPassword?T[e.id]:void 0,a=((e,t)=>{if(console.log("=== Download Attempt ==="),console.log("File:",e.name),console.log("Type:",e.type),console.log("Size:",e.size),console.log("Format:",e.format),console.log("Requires Password:",e.requiresPassword),e.isExpired)return console.log("Status: FAILED - File expired"),console.log("Expired on:",e.expiresAt),{success:!1,message:"파일이 만료되었습니다"};if(e.maxDownloads&&e.downloadCount>=e.maxDownloads)return console.log("Status: FAILED - Max downloads exceeded"),console.log(`Download count: ${e.downloadCount} / ${e.maxDownloads}`),{success:!1,message:"다운로드 횟수를 초과했습니다"};if(e.requiresPassword){if(console.log("Password required:",!0),console.log("Entered password:",t||"(none)"),console.log("Expected password:",e.password||"(not set)"),!t)return console.log("Status: FAILED - No password provided"),{success:!1,message:"비밀번호를 입력해주세요"};if(t!==e.password)return console.log("Status: FAILED - Incorrect password"),{success:!1,message:"비밀번호가 올바르지 않습니다"}}return console.log("Status: SUCCESS"),console.log("Download URL: (mock) https://download.mindgraphy.com/files/"+e.id),console.log("========================"),{success:!0,message:"다운로드를 시작합니다",downloadUrl:`https://download.mindgraphy.com/files/${e.id}`}})(e,t);await new Promise(e=>setTimeout(e,1e3)),B(t=>({...t,[e.id]:!1})),a.success?E.toast.success(a.message):E.toast.error(a.message)};return(0,t.jsx)(i.ClientPortalLayout,{token:m,children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(r.default,{href:`/c/${m}`,children:(0,t.jsxs)(o.Button,{variant:"ghost",size:"sm",className:"mb-4",children:[(0,t.jsx)(D,{className:"mr-2 h-4 w-4"}),"진행 상황으로 돌아가기"]})}),(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"다운로드"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"최종 결과물을 다운로드하실 수 있습니다"})]}),(0,t.jsx)(n.Card,{className:"border-blue-500 bg-blue-50",children:(0,t.jsx)(n.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(v.AlertCircle,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-blue-900 mb-1",children:"다운로드 안내"}),(0,t.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1 list-disc list-inside",children:[(0,t.jsx)("li",{children:"파일은 만료일까지만 다운로드 가능합니다"}),(0,t.jsx)("li",{children:"다운로드 횟수 제한이 있을 수 있습니다"}),(0,t.jsx)("li",{children:"비밀번호가 필요한 파일은 입력 후 다운로드하세요"}),(0,t.jsx)("li",{children:"다운로드 문제 시 담당 작가에게 문의해주세요"})]})]})]})})}),(0,t.jsx)("div",{className:"space-y-4",children:z.map(e=>{let a=!e.isExpired&&(!e.maxDownloads||!(e.downloadCount>=e.maxDownloads)),s=Math.ceil((new Date(e.expiresAt).getTime()-p.getTime())/864e5),r=s<=7&&s>0,i=I[e.id];return(0,t.jsxs)(n.Card,{className:(0,S.cn)("transition-all",e.isExpired&&"opacity-60 border-red-200",r&&"border-orange-300"),children:[(0,t.jsx)(n.CardHeader,{children:(0,t.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,t.jsx)("div",{className:(0,S.cn)("flex h-12 w-12 items-center justify-center rounded-lg",e.isExpired?"bg-gray-200":"bg-blue-100"),children:(0,t.jsx)(b,{className:(0,S.cn)("h-6 w-6",e.isExpired?"text-gray-500":"text-blue-600")})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)(n.CardTitle,{className:"text-xl mb-1",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:e.description}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)(l.Badge,{className:(0,S.cn)({final:"bg-green-100 text-green-800",original:"bg-blue-100 text-blue-800",album:"bg-purple-100 text-purple-800"}[e.type]),children:{final:"최종 보정본",original:"원본 파일",album:"앨범"}[e.type]}),e.isExpired?(0,t.jsx)(l.Badge,{variant:"destructive",children:"만료됨"}):r?(0,t.jsxs)(l.Badge,{variant:"destructive",className:"bg-orange-500",children:[s,"일 남음"]}):null,e.requiresPassword&&(0,t.jsxs)(l.Badge,{variant:"secondary",children:[(0,t.jsx)(w,{className:"mr-1 h-3 w-3"}),"비밀번호 필요"]})]})]})]})})}),(0,t.jsxs)(n.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(k,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"용량"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:e.size})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(b,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"형식"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:e.format})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(M.Calendar,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"만료일"}),(0,t.jsx)("p",{className:(0,S.cn)("text-sm font-medium",e.isExpired&&"text-red-600",r&&"text-orange-600"),children:(0,h.format)(new Date(e.expiresAt),"M월 d일",{locale:A.ko})})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(j.Clock,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"다운로드"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:e.isExpired?"만료됨":e.maxDownloads&&e.downloadCount>=e.maxDownloads?"다운로드 횟수 초과":`${e.downloadCount} / ${e.maxDownloads||"∞"} 다운로드`})]})]})]}),e.requiresPassword&&!e.isExpired&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"text-sm font-medium",children:["비밀번호 ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(d.Input,{type:L[e.id]?"text":"password",placeholder:"비밀번호를 입력하세요",value:T[e.id]||"",onChange:t=>{var a,s;return a=e.id,s=t.target.value,void F(e=>({...e,[a]:s}))},disabled:!a}),(0,t.jsx)("button",{type:"button",onClick:()=>{var t;return t=e.id,void W(e=>({...e,[t]:!e[t]}))},className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:L[e.id]?(0,t.jsx)(P,{className:"h-4 w-4"}):(0,t.jsx)(C.Eye,{className:"h-4 w-4"})})]})}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"비밀번호는 계약 시 전달받으신 번호입니다 (데모: 1234)"})]}),e.isExpired&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,t.jsx)(v.AlertCircle,{className:"h-4 w-4 text-red-600 flex-shrink-0"}),(0,t.jsxs)("p",{className:"text-sm text-red-700",children:["이 파일은 ",(0,h.format)(new Date(e.expiresAt),"yyyy년 M월 d일",{locale:A.ko}),"에 만료되었습니다. 재발급이 필요한 경우 담당 작가에게 문의해주세요."]})]}),!e.isExpired&&e.maxDownloads&&e.downloadCount>=e.maxDownloads&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[(0,t.jsx)(v.AlertCircle,{className:"h-4 w-4 text-orange-600 flex-shrink-0"}),(0,t.jsxs)("p",{className:"text-sm text-orange-700",children:["다운로드 횟수(",e.maxDownloads,"회)를 모두 사용했습니다. 추가 다운로드가 필요한 경우 담당 작가에게 문의해주세요."]})]}),(0,t.jsx)(o.Button,{onClick:()=>H(e),disabled:!a||i,className:"w-full h-12",size:"lg",children:i?(0,t.jsx)(t.Fragment,{children:"처리 중..."}):e.isExpired?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.AlertCircle,{className:"mr-2 h-5 w-5"}),"만료됨"]}):a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.Download,{className:"mr-2 h-5 w-5"}),"다운로드"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.AlertCircle,{className:"mr-2 h-5 w-5"}),"다운로드 불가"]})})]})]},e.id)})}),(0,t.jsxs)(n.Card,{children:[(0,t.jsx)(n.CardHeader,{children:(0,t.jsx)(n.CardTitle,{className:"text-lg",children:"도움이 필요하신가요?"})}),(0,t.jsxs)(n.CardContent,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(N.CheckCircle2,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("p",{className:"text-sm",children:["다운로드 문제가 있으신가요? 담당 작가 ",f.photographerName,"에게 연락하세요: ",f.photographerPhone]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(N.CheckCircle2,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsx)("p",{className:"text-sm",children:"파일이 만료되었거나 추가 다운로드가 필요한 경우 재발급 요청이 가능합니다"})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(N.CheckCircle2,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsx)("p",{className:"text-sm",children:"다운로드한 파일은 안전한 곳에 백업하여 보관하시기 바랍니다"})]})]})]})]})})}e.s(["default",()=>z],11828)}]);