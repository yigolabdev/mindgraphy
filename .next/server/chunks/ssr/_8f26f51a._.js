module.exports=[77518,(a,b,c)=>{function d(){return b.exports=d=Object.assign.bind(),b.exports.__esModule=!0,b.exports.default=b.exports,d.apply(null,arguments)}b.exports=d,b.exports.__esModule=!0,b.exports.default=b.exports},9244,(a,b,c)=>{b.exports=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c},b.exports.__esModule=!0,b.exports.default=b.exports},92743,(a,b,c)=>{var d=a.r(9244);b.exports=function(a,b){if(null==a)return{};var c,e,f=d(a,b);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(a);for(e=0;e<g.length;e++)c=g[e],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(f[c]=a[c])}return f},b.exports.__esModule=!0,b.exports.default=b.exports},15898,(a,b,c)=>{function d(a){return b.exports=d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},b.exports.__esModule=!0,b.exports.default=b.exports,d(a)}b.exports=d,b.exports.__esModule=!0,b.exports.default=b.exports},59942,(a,b,c)=>{var d=a.r(15898).default;b.exports=function(a,b){if("object"!=d(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var e=c.call(a,b||"default");if("object"!=d(e))return e;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)},b.exports.__esModule=!0,b.exports.default=b.exports},71003,(a,b,c)=>{var d=a.r(15898).default,e=a.r(59942);b.exports=function(a){var b=e(a,"string");return"symbol"==d(b)?b:b+""},b.exports.__esModule=!0,b.exports.default=b.exports},74626,(a,b,c)=>{var d=a.r(71003);function e(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(a,d(e.key),e)}}b.exports=function(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a},b.exports.__esModule=!0,b.exports.default=b.exports},7295,(a,b,c)=>{b.exports=function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")},b.exports.__esModule=!0,b.exports.default=b.exports},16631,(a,b,c)=>{function d(a,c){return b.exports=d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},b.exports.__esModule=!0,b.exports.default=b.exports,d(a,c)}b.exports=d,b.exports.__esModule=!0,b.exports.default=b.exports},44248,(a,b,c)=>{var d=a.r(16631);b.exports=function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&d(a,b)},b.exports.__esModule=!0,b.exports.default=b.exports},35586,(a,b,c)=>{function d(a){return b.exports=d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},b.exports.__esModule=!0,b.exports.default=b.exports,d(a)}b.exports=d,b.exports.__esModule=!0,b.exports.default=b.exports},37660,(a,b,c)=>{function d(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(b.exports=d=function(){return!!a},b.exports.__esModule=!0,b.exports.default=b.exports)()}b.exports=d,b.exports.__esModule=!0,b.exports.default=b.exports},46244,(a,b,c)=>{b.exports=function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a},b.exports.__esModule=!0,b.exports.default=b.exports},50503,(a,b,c)=>{var d=a.r(15898).default,e=a.r(46244);b.exports=function(a,b){if(b&&("object"==d(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");return e(a)},b.exports.__esModule=!0,b.exports.default=b.exports},19067,(a,b,c)=>{var d=a.r(35586),e=a.r(37660),f=a.r(50503);b.exports=function(a){var b=e();return function(){var c,e=d(a);return c=b?Reflect.construct(e,arguments,d(this).constructor):e.apply(this,arguments),f(this,c)}},b.exports.__esModule=!0,b.exports.default=b.exports},82520,(a,b,c)=>{"use strict";b.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},24560,(a,b,c)=>{"use strict";var d=a.r(82520);function e(){}function f(){}f.resetWarningCache=e,b.exports=function(){function a(a,b,c,e,f,g){if(g!==d){var h=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}function b(){return a}a.isRequired=a;var c={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:b,element:a,elementType:a,instanceOf:b,node:a,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b,checkPropTypes:f,resetWarningCache:e};return c.PropTypes=c,c}},41212,(a,b,c)=>{b.exports=a.r(24560)()},63301,(a,b,c)=>{a.e,b.exports=function(){var a=[function(a,b){"use strict";function c(a,b,c,d){return({red:d[4*(c*b+a)],green:d[4*(c*b+a)+1],blue:d[4*(c*b+a)+2],alpha:d[4*(c*b+a)+3]}).alpha}function d(a,b,d,e){for(var f=a?1:-1,g=a?0:d-1,h=g;a?h<d:h>-1;h+=f)for(var i=0;i<b;i++)if(c(i,h,b,e))return h;return null}function e(a,b,d,e){for(var f=a?1:-1,g=a?0:b-1,h=g;a?h<b:h>-1;h+=f)for(var i=0;i<d;i++)if(c(h,i,b,e))return h;return null}Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(a){var b=a.getContext("2d"),c=a.width,f=a.height,g=b.getImageData(0,0,c,f).data,h=d(!0,c,f,g),i=d(!1,c,f,g),j=e(!0,c,f,g),k=e(!1,c,f,g)-j+1,l=i-h+1,m=b.getImageData(j,h,k,l);return a.width=k,a.height=l,b.clearRect(0,0,k,l),b.putImageData(m,0,0),a}}];function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}()},18726,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(40475),f=a.i(3130),g=a.i(40695),h=a.i(54161),i=a.i(70121),j=a.i(50104),k=a.i(7554),l=a.i(25152),m=a.i(72752),n=a.i(77192),o=a.i(30553),p="Checkbox",[q,r]=(0,j.createContextScope)(p),[s,t]=q(p);function u(a){let{__scopeCheckbox:d,checked:e,children:f,defaultChecked:g,disabled:h,form:i,name:j,onCheckedChange:k,required:m,value:n="on",internal_do_not_use_render:o}=a,[q,r]=(0,l.useControllableState)({prop:e,defaultProp:g??!1,onChange:k,caller:p}),[t,u]=c.useState(null),[v,w]=c.useState(null),x=c.useRef(!1),y=!t||!!i||!!t.closest("form"),z={checked:q,disabled:h,setChecked:r,control:t,setControl:u,name:j,form:i,value:n,hasConsumerStoppedPropagationRef:x,required:m,defaultChecked:!C(g)&&g,isFormControl:y,bubbleInput:v,setBubbleInput:w};return(0,b.jsx)(s,{scope:d,...z,children:"function"==typeof o?o(z):f})}var v="CheckboxTrigger",w=c.forwardRef(({__scopeCheckbox:a,onKeyDown:d,onClick:e,...f},g)=>{let{control:h,value:j,disabled:l,checked:m,required:n,setControl:p,setChecked:q,hasConsumerStoppedPropagationRef:r,isFormControl:s,bubbleInput:u}=t(v,a),w=(0,i.useComposedRefs)(g,p),x=c.useRef(m);return c.useEffect(()=>{let a=h?.form;if(a){let b=()=>q(x.current);return a.addEventListener("reset",b),()=>a.removeEventListener("reset",b)}},[h,q]),(0,b.jsx)(o.Primitive.button,{type:"button",role:"checkbox","aria-checked":C(m)?"mixed":m,"aria-required":n,"data-state":D(m),"data-disabled":l?"":void 0,disabled:l,value:j,...f,ref:w,onKeyDown:(0,k.composeEventHandlers)(d,a=>{"Enter"===a.key&&a.preventDefault()}),onClick:(0,k.composeEventHandlers)(e,a=>{q(a=>!!C(a)||!a),u&&s&&(r.current=a.isPropagationStopped(),r.current||a.stopPropagation())})})});w.displayName=v;var x=c.forwardRef((a,c)=>{let{__scopeCheckbox:d,name:e,checked:f,defaultChecked:g,required:h,disabled:i,value:j,onCheckedChange:k,form:l,...m}=a;return(0,b.jsx)(u,{__scopeCheckbox:d,checked:f,defaultChecked:g,disabled:i,required:h,onCheckedChange:k,name:e,form:l,value:j,internal_do_not_use_render:({isFormControl:a})=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(w,{...m,ref:c,__scopeCheckbox:d}),a&&(0,b.jsx)(B,{__scopeCheckbox:d})]})})});x.displayName=p;var y="CheckboxIndicator",z=c.forwardRef((a,c)=>{let{__scopeCheckbox:d,forceMount:e,...f}=a,g=t(y,d);return(0,b.jsx)(n.Presence,{present:e||C(g.checked)||!0===g.checked,children:(0,b.jsx)(o.Primitive.span,{"data-state":D(g.checked),"data-disabled":g.disabled?"":void 0,...f,ref:c,style:{pointerEvents:"none",...a.style}})})});z.displayName=y;var A="CheckboxBubbleInput",B=c.forwardRef(({__scopeCheckbox:a,...d},e)=>{let f,{control:g,hasConsumerStoppedPropagationRef:h,checked:j,defaultChecked:k,required:l,disabled:n,name:p,value:q,form:r,bubbleInput:s,setBubbleInput:u}=t(A,a),v=(0,i.useComposedRefs)(e,u),w=(f=c.useRef({value:j,previous:j}),c.useMemo(()=>(f.current.value!==j&&(f.current.previous=f.current.value,f.current.value=j),f.current.previous),[j])),x=function(a){let[b,d]=c.useState(void 0);return(0,m.useLayoutEffect)(()=>{if(a){d({width:a.offsetWidth,height:a.offsetHeight});let b=new ResizeObserver(b=>{let c,e;if(!Array.isArray(b)||!b.length)return;let f=b[0];if("borderBoxSize"in f){let a=f.borderBoxSize,b=Array.isArray(a)?a[0]:a;c=b.inlineSize,e=b.blockSize}else c=a.offsetWidth,e=a.offsetHeight;d({width:c,height:e})});return b.observe(a,{box:"border-box"}),()=>b.unobserve(a)}d(void 0)},[a]),b}(g);c.useEffect(()=>{if(!s)return;let a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,b=!h.current;if(w!==j&&a){let c=new Event("click",{bubbles:b});s.indeterminate=C(j),a.call(s,!C(j)&&j),s.dispatchEvent(c)}},[s,w,j,h]);let y=c.useRef(!C(j)&&j);return(0,b.jsx)(o.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:k??y.current,required:l,disabled:n,name:p,value:q,form:r,...d,tabIndex:-1,ref:v,style:{...d.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function C(a){return"indeterminate"===a}function D(a){return C(a)?"indeterminate":a?"checked":"unchecked"}B.displayName=A;var E=a.i(33441),F=a.i(97895);let G=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(x,{ref:d,className:(0,F.cn)("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...c,children:(0,b.jsx)(z,{className:(0,F.cn)("grid place-content-center text-current"),children:(0,b.jsx)(E.Check,{className:"h-4 w-4"})})}));G.displayName=x.displayName;var H=a.i(4720),I=a.i(84505);function J({contractId:a,contractTitle:c,packageName:d}){return(0,b.jsx)(f.Card,{children:(0,b.jsxs)(f.CardContent,{className:"p-0",children:[(0,b.jsx)("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 rounded-t-lg p-8 border-b",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,b.jsxs)("div",{className:"text-center space-y-3 pb-6 border-b-2 border-gray-300",children:[(0,b.jsx)("div",{className:"flex items-center justify-center gap-2 mb-2",children:(0,b.jsx)(H.FileText,{className:"h-8 w-8 text-gray-600"})}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"웨딩 촬영 서비스 계약서"}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)(h.Badge,{variant:"secondary",children:d}),(0,b.jsxs)(h.Badge,{variant:"outline",className:"text-xs",children:["계약번호: ",a]})]})]}),(0,b.jsxs)("div",{className:"space-y-6 bg-white rounded-lg p-6 shadow-sm",children:[(0,b.jsxs)("section",{className:"space-y-3",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"제1조 (목적)"}),(0,b.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:'본 계약은 MindGraphy(이하 "갑")와 고객(이하 "을") 간에 웨딩 사진 촬영 및 관련 서비스 제공에 관한 권리와 의무를 명확히 하여 상호 신뢰를 바탕으로 원활한 서비스 이행을 목적으로 한다.'})]}),(0,b.jsxs)("section",{className:"space-y-3",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"제2조 (서비스 내용)"}),(0,b.jsxs)("ul",{className:"list-decimal list-inside space-y-2 text-sm text-gray-700",children:[(0,b.jsx)("li",{children:"본식 촬영 서비스 (예식 당일 전문 포토그래퍼 배정)"}),(0,b.jsx)("li",{children:"메이크업 리허설 촬영 (선택 옵션)"}),(0,b.jsx)("li",{children:"야외 스냅 촬영 (선택 옵션)"}),(0,b.jsx)("li",{children:"원본 사진 전달 (고해상도 JPEG 포맷)"}),(0,b.jsx)("li",{children:"보정 사진 제공 (고객 선택 50장 기준)"}),(0,b.jsx)("li",{children:"온라인 프루프 갤러리 제공 (3주 이내)"}),(0,b.jsx)("li",{children:"최종 앨범 제작 및 배송 (선택 옵션)"})]})]}),(0,b.jsxs)("section",{className:"space-y-3",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"제3조 (계약 금액 및 지불 조건)"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm text-gray-700",children:[(0,b.jsx)("p",{children:"1. 총 계약 금액: 패키지 가격에 준함"}),(0,b.jsx)("p",{children:"2. 계약금(선금): 총 금액의 30% (계약 체결 시)"}),(0,b.jsx)("p",{children:"3. 중도금: 총 금액의 30% (예식 1개월 전)"}),(0,b.jsx)("p",{children:"4. 잔금: 총 금액의 40% (촬영 완료 후)"})]})]}),(0,b.jsxs)("section",{className:"space-y-3",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"제4조 (촬영 일정 및 변경)"}),(0,b.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:"촬영 일정은 상호 협의하에 정하며, 부득이한 사유로 변경이 필요한 경우 최소 7일 전 통보하여야 한다. 천재지변 등 불가항력적인 사유로 인한 일정 변경 시에는 상호 협의하여 새로운 일정을 정한다."})]}),(0,b.jsxs)("section",{className:"space-y-3",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"제5조 (저작권 및 초상권)"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm text-gray-700",children:[(0,b.jsx)("p",{children:'1. 촬영된 사진의 저작권은 "갑"에게 있으며, "을"은 개인적 용도로만 사용할 수 있다.'}),(0,b.jsx)("p",{children:'2. "갑"은 "을"의 동의 하에 촬영 사진을 포트폴리오 및 홍보 목적으로 사용할 수 있다.'}),(0,b.jsx)("p",{children:'3. "을"은 촬영 사진을 상업적 용도로 사용할 수 없다.'})]})]}),(0,b.jsxs)("section",{className:"space-y-3",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"제6조 (취소 및 환불)"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm text-gray-700",children:[(0,b.jsx)("p",{children:"1. 계약 체결 후 7일 이내 취소: 전액 환불"}),(0,b.jsx)("p",{children:"2. 촬영 30일 전 취소: 계약금 공제 후 환불"}),(0,b.jsx)("p",{children:"3. 촬영 14일 전 취소: 중도금까지 공제 후 환불"}),(0,b.jsx)("p",{children:"4. 촬영 7일 전 이후 취소: 환불 불가"})]})]}),(0,b.jsxs)("section",{className:"space-y-3",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"제7조 (책임 사항)"}),(0,b.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:'"갑"은 전문적인 촬영 서비스 제공을 위해 최선을 다하며, "을"은 촬영에 필요한 정보를 정확히 제공하고 촬영 당일 일정을 준수할 의무가 있다. 천재지변, 장비 고장 등 불가항력적 사유로 인한 촬영 불가 시 양측은 상호 협의하여 해결한다.'})]}),(0,b.jsxs)("section",{className:"space-y-3",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"제8조 (분쟁 해결)"}),(0,b.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:"본 계약과 관련하여 분쟁이 발생한 경우, 양 당사자는 우선 협의를 통해 해결하며, 협의가 이루어지지 않을 경우 관할 법원의 판결에 따른다."})]})]}),(0,b.jsxs)("div",{className:"text-center py-6 border-t-2 border-gray-300",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:'본 계약서는 2부를 작성하여 "갑"과 "을"이 각각 1부씩 보관한다.'}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["계약일자: ",new Date().toLocaleDateString("ko-KR")]})]})]})}),(0,b.jsx)("div",{className:"p-4 bg-gray-50 flex justify-end",children:(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",children:[(0,b.jsx)(I.Download,{className:"mr-2 h-4 w-4"}),"PDF 다운로드"]})})]})})}var K=a.i(77518),L=a.i(92743),M=a.i(74626),N=a.i(7295),O=a.i(44248),P=a.i(19067),Q=a.i(41212);function R(a,b,c){this.x=a,this.y=b,this.time=c||new Date().getTime()}function S(a,b,c,d){this.startPoint=a,this.control1=b,this.control2=c,this.endPoint=d}function T(a,b){var c,d,e,f,g,h,i,j,k,l=this,m=b||{};(this.velocityFilterWeight=m.velocityFilterWeight||.7,this.minWidth=m.minWidth||.5,this.maxWidth=m.maxWidth||2.5,this.throttle="throttle"in m?m.throttle:16,this.minDistance="minDistance"in m?m.minDistance:5,this.throttle)?this._strokeMoveUpdate=(c=T.prototype._strokeUpdate,d=this.throttle,i=null,j=0,e||(e={}),k=function(){j=!1===e.leading?0:Date.now(),i=null,h=c.apply(f,g),i||(f=g=null)},function(){var a=Date.now();j||!1!==e.leading||(j=a);var b=d-(a-j);return f=this,g=arguments,b<=0||b>d?(i&&(clearTimeout(i),i=null),j=a,h=c.apply(f,g),i||(f=g=null)):i||!1===e.trailing||(i=setTimeout(k,b)),h}):this._strokeMoveUpdate=T.prototype._strokeUpdate,this.dotSize=m.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=m.penColor||"black",this.backgroundColor=m.backgroundColor||"rgba(0,0,0,0)",this.onBegin=m.onBegin,this.onEnd=m.onEnd,this._canvas=a,this._ctx=a.getContext("2d"),this.clear(),this._handleMouseDown=function(a){1===a.which&&(l._mouseButtonDown=!0,l._strokeBegin(a))},this._handleMouseMove=function(a){l._mouseButtonDown&&l._strokeMoveUpdate(a)},this._handleMouseUp=function(a){1===a.which&&l._mouseButtonDown&&(l._mouseButtonDown=!1,l._strokeEnd(a))},this._handleTouchStart=function(a){if(1===a.targetTouches.length){var b=a.changedTouches[0];l._strokeBegin(b)}},this._handleTouchMove=function(a){a.preventDefault();var b=a.targetTouches[0];l._strokeMoveUpdate(b)},this._handleTouchEnd=function(a){a.target===l._canvas&&(a.preventDefault(),l._strokeEnd(a))},this.on()}R.prototype.velocityFrom=function(a){return this.time!==a.time?this.distanceTo(a)/(this.time-a.time):1},R.prototype.distanceTo=function(a){return Math.sqrt(Math.pow(this.x-a.x,2)+Math.pow(this.y-a.y,2))},R.prototype.equals=function(a){return this.x===a.x&&this.y===a.y&&this.time===a.time},S.prototype.length=function(){for(var a=0,b=void 0,c=void 0,d=0;d<=10;d+=1){var e=d/10,f=this._point(e,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),g=this._point(e,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(d>0){var h=f-b,i=g-c;a+=Math.sqrt(h*h+i*i)}b=f,c=g}return a},S.prototype._point=function(a,b,c,d,e){return b*(1-a)*(1-a)*(1-a)+3*c*(1-a)*(1-a)*a+3*d*(1-a)*a*a+e*a*a*a},T.prototype.clear=function(){var a=this._ctx,b=this._canvas;a.fillStyle=this.backgroundColor,a.clearRect(0,0,b.width,b.height),a.fillRect(0,0,b.width,b.height),this._data=[],this._reset(),this._isEmpty=!0},T.prototype.fromDataURL=function(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=new Image,e=c.ratio||window.devicePixelRatio||1,f=c.width||this._canvas.width/e,g=c.height||this._canvas.height/e;this._reset(),d.src=a,d.onload=function(){b._ctx.drawImage(d,0,0,f,g)},this._isEmpty=!1},T.prototype.toDataURL=function(a){var b;if("image/svg+xml"===a)return this._toSVG();for(var c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return(b=this._canvas).toDataURL.apply(b,[a].concat(d))},T.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},T.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},T.prototype.isEmpty=function(){return this._isEmpty},T.prototype._strokeBegin=function(a){this._data.push([]),this._reset(),this._strokeUpdate(a),"function"==typeof this.onBegin&&this.onBegin(a)},T.prototype._strokeUpdate=function(a){var b=a.clientX,c=a.clientY,d=this._createPoint(b,c),e=this._data[this._data.length-1],f=e&&e[e.length-1],g=f&&d.distanceTo(f)<this.minDistance;if(!(f&&g)){var h=this._addPoint(d),i=h.curve,j=h.widths;i&&j&&this._drawCurve(i,j.start,j.end),this._data[this._data.length-1].push({x:d.x,y:d.y,time:d.time,color:this.penColor})}},T.prototype._strokeEnd=function(a){var b=this.points.length>2,c=this.points[0];if(!b&&c&&this._drawDot(c),c){var d=this._data[this._data.length-1],e=d[d.length-1];c.equals(e)||d.push({x:c.x,y:c.y,time:c.time,color:this.penColor})}"function"==typeof this.onEnd&&this.onEnd(a)},T.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},T.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},T.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},T.prototype._createPoint=function(a,b,c){var d=this._canvas.getBoundingClientRect();return new R(a-d.left,b-d.top,c||new Date().getTime())},T.prototype._addPoint=function(a){var b=this.points;if(b.push(a),b.length>2){3===b.length&&b.unshift(b[0]);var c=this._calculateCurveControlPoints(b[0],b[1],b[2]).c2,d=this._calculateCurveControlPoints(b[1],b[2],b[3]).c1,e=new S(b[1],c,d,b[2]),f=this._calculateCurveWidths(e);return b.shift(),{curve:e,widths:f}}return{}},T.prototype._calculateCurveControlPoints=function(a,b,c){var d=a.x-b.x,e=a.y-b.y,f=b.x-c.x,g=b.y-c.y,h={x:(a.x+b.x)/2,y:(a.y+b.y)/2},i={x:(b.x+c.x)/2,y:(b.y+c.y)/2},j=Math.sqrt(d*d+e*e),k=Math.sqrt(f*f+g*g),l=h.x-i.x,m=h.y-i.y,n=k/(j+k),o={x:i.x+l*n,y:i.y+m*n},p=b.x-o.x,q=b.y-o.y;return{c1:new R(h.x+p,h.y+q),c2:new R(i.x+p,i.y+q)}},T.prototype._calculateCurveWidths=function(a){var b=a.startPoint,c=a.endPoint,d={start:null,end:null},e=this.velocityFilterWeight*c.velocityFrom(b)+(1-this.velocityFilterWeight)*this._lastVelocity,f=this._strokeWidth(e);return d.start=this._lastWidth,d.end=f,this._lastVelocity=e,this._lastWidth=f,d},T.prototype._strokeWidth=function(a){return Math.max(this.maxWidth/(a+1),this.minWidth)},T.prototype._drawPoint=function(a,b,c){var d=this._ctx;d.moveTo(a,b),d.arc(a,b,c,0,2*Math.PI,!1),this._isEmpty=!1},T.prototype._drawCurve=function(a,b,c){var d=this._ctx,e=c-b,f=Math.floor(a.length());d.beginPath();for(var g=0;g<f;g+=1){var h=g/f,i=h*h,j=i*h,k=1-h,l=k*k,m=l*k,n=m*a.startPoint.x;n+=3*l*h*a.control1.x+3*k*i*a.control2.x+j*a.endPoint.x;var o=m*a.startPoint.y;o+=3*l*h*a.control1.y+3*k*i*a.control2.y+j*a.endPoint.y;var p=b+j*e;this._drawPoint(n,o,p)}d.closePath(),d.fill()},T.prototype._drawDot=function(a){var b=this._ctx,c="function"==typeof this.dotSize?this.dotSize():this.dotSize;b.beginPath(),this._drawPoint(a.x,a.y,c),b.closePath(),b.fill()},T.prototype._fromData=function(a,b,c){for(var d=0;d<a.length;d+=1){var e=a[d];if(e.length>1)for(var f=0;f<e.length;f+=1){var g=e[f],h=new R(g.x,g.y,g.time),i=g.color;if(0===f)this.penColor=i,this._reset(),this._addPoint(h);else if(f!==e.length-1){var j=this._addPoint(h),k=j.curve,l=j.widths;k&&l&&b(k,l,i)}}else this._reset(),c(e[0])}},T.prototype._toSVG=function(){var a=this,b=this._data,c=this._canvas,d=Math.max(window.devicePixelRatio||1,1),e=c.width/d,f=c.height/d,g=document.createElementNS("http://www.w3.org/2000/svg","svg");g.setAttributeNS(null,"width",c.width),g.setAttributeNS(null,"height",c.height),this._fromData(b,function(a,b,c){var d=document.createElement("path");if(!isNaN(a.control1.x)&&!isNaN(a.control1.y)&&!isNaN(a.control2.x)&&!isNaN(a.control2.y)){var e="M "+a.startPoint.x.toFixed(3)+","+a.startPoint.y.toFixed(3)+" "+("C "+a.control1.x.toFixed(3)+",")+a.control1.y.toFixed(3)+" "+(a.control2.x.toFixed(3)+",")+a.control2.y.toFixed(3)+" "+a.endPoint.x.toFixed(3)+","+a.endPoint.y.toFixed(3);d.setAttribute("d",e),d.setAttribute("stroke-width",(2.25*b.end).toFixed(3)),d.setAttribute("stroke",c),d.setAttribute("fill","none"),d.setAttribute("stroke-linecap","round"),g.appendChild(d)}},function(b){var c=document.createElement("circle"),d="function"==typeof a.dotSize?a.dotSize():a.dotSize;c.setAttribute("r",d),c.setAttribute("cx",b.x),c.setAttribute("cy",b.y),c.setAttribute("fill",b.color),g.appendChild(c)});var h='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="0 0 '+e+" ")+f+'" width="'+e+'" height="'+f+'">',i=g.innerHTML;if(void 0===i){var j=document.createElement("dummy"),k=g.childNodes;j.innerHTML="";for(var l=0;l<k.length;l+=1)j.appendChild(k[l].cloneNode(!0));i=j.innerHTML}return"data:image/svg+xml;base64,"+btoa(h+i+"</svg>")},T.prototype.fromData=function(a){var b=this;this.clear(),this._fromData(a,function(a,c){return b._drawCurve(a,c.start,c.end)},function(a){return b._drawDot(a)}),this._data=a},T.prototype.toData=function(){return this._data};var U=a.i(63301),V=["canvasProps","clearOnResize"],W=function(a){(0,O.default)(d,a);var b=(0,P.default)(d);function d(){var a;(0,N.default)(this,d);for(var e=arguments.length,f=Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=b.call.apply(b,[this].concat(f))).staticThis=a.constructor,a._sigPad=null,a._canvas=null,a.setRef=function(b){a._canvas=b,null===a._canvas&&(a._sigPad=null)},a._excludeOurProps=function(){var b=a.props;return b.canvasProps,b.clearOnResize,(0,L.default)(b,V)},a.componentDidMount=function(){var b=a.getCanvas();a._sigPad=new T(b,a._excludeOurProps()),a._resizeCanvas(),a.on()},a.componentWillUnmount=function(){a.off()},a.componentDidUpdate=function(){Object.assign(a._sigPad,a._excludeOurProps())},a.getCanvas=function(){if(null===a._canvas)throw a.staticThis.refNullError;return a._canvas},a.getTrimmedCanvas=function(){var b=a.getCanvas(),c=document.createElement("canvas");return c.width=b.width,c.height=b.height,c.getContext("2d").drawImage(b,0,0),(0,U.default)(c)},a.getSignaturePad=function(){if(null===a._sigPad)throw a.staticThis.refNullError;return a._sigPad},a._checkClearOnResize=function(){a.props.clearOnResize&&a._resizeCanvas()},a._resizeCanvas=function(){var b,c,d=null!=(b=a.props.canvasProps)?b:{},e=d.width,f=d.height;if(void 0===e||void 0===f){var g=a.getCanvas(),h=Math.max(null!=(c=window.devicePixelRatio)?c:1,1);void 0===e&&(g.width=g.offsetWidth*h),void 0===f&&(g.height=g.offsetHeight*h),g.getContext("2d").scale(h,h),a.clear()}},a.render=function(){var b=a.props.canvasProps;return c.default.createElement("canvas",(0,K.default)({ref:a.setRef},b))},a.on=function(){return window.addEventListener("resize",a._checkClearOnResize),a.getSignaturePad().on()},a.off=function(){return window.removeEventListener("resize",a._checkClearOnResize),a.getSignaturePad().off()},a.clear=function(){return a.getSignaturePad().clear()},a.isEmpty=function(){return a.getSignaturePad().isEmpty()},a.fromDataURL=function(b,c){return a.getSignaturePad().fromDataURL(b,c)},a.toDataURL=function(b,c){return a.getSignaturePad().toDataURL(b,c)},a.fromData=function(b){return a.getSignaturePad().fromData(b)},a.toData=function(){return a.getSignaturePad().toData()},a}return(0,M.default)(d)}(c.Component);W.propTypes={velocityFilterWeight:Q.default.number,minWidth:Q.default.number,maxWidth:Q.default.number,minDistance:Q.default.number,dotSize:Q.default.oneOfType([Q.default.number,Q.default.func]),penColor:Q.default.string,throttle:Q.default.number,onEnd:Q.default.func,onBegin:Q.default.func,canvasProps:Q.default.object,clearOnResize:Q.default.bool},W.defaultProps={clearOnResize:!0},W.refNullError=Error("react-signature-canvas is currently mounting or unmounting: React refs are null during this phase.");var X=a.i(70106);let Y=(0,X.default)("eraser",[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]]),Z=(0,c.forwardRef)(({onSave:a},d)=>{let e=(0,c.useRef)(null);return(0,c.useImperativeHandle)(d,()=>({clear:()=>{e.current?.clear()},isEmpty:()=>e.current?.isEmpty()??!0,toDataURL:()=>e.current?.toDataURL()??""})),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(f.CardTitle,{className:"text-lg",children:"전자 서명"}),(0,b.jsx)("div",{className:"flex gap-2",children:(0,b.jsxs)(g.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>{e.current?.clear()},children:[(0,b.jsx)(Y,{className:"mr-2 h-4 w-4"}),"지우기"]})})]})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("div",{className:"rounded-lg border-2 border-dashed border-gray-300 bg-white p-2",children:(0,b.jsx)(W,{ref:e,canvasProps:{className:"w-full h-48 rounded cursor-crosshair",style:{touchAction:"none"}},backgroundColor:"white",penColor:"black"})}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"위 영역에 마우스나 손가락으로 서명해주세요"})]})})]})});Z.displayName="SignatureCanvasComponent";var $=a.i(56941),_=a.i(64600),aa=a.i(67453),ab=a.i(92e3);let ac=(0,X.default)("file-check",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);var ad=a.i(32860),ae=a.i(23292);function af({params:a}){let{token:i}=(0,c.use)(a),j=(0,d.useRouter)(),k=(0,$.getClientDataByToken)(i),l=(0,c.useRef)(null),[m,n]=(0,c.useState)({serviceTerms:!1,privacyPolicy:!1,photoUsage:!1,refundPolicy:!1}),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(!1);if(!k)return j.push(`/c/${i}/invalid`),null;let u=Object.values(m).every(Boolean),v=u&&o&&q,w=()=>{l.current?.clear(),p(null),r(!1)},x=async()=>{v?(t(!0),await new Promise(a=>setTimeout(a,1500)),ae.toast.success("계약이 완료되었습니다! 다음 단계로 이동합니다."),setTimeout(()=>{j.push(_.ROUTES.CLIENT_INFO(i))},1e3)):ae.toast.error("모든 약관에 동의하고 서명을 완료해주세요")};return(0,b.jsx)(e.ClientPortalLayout,{token:i,children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"계약서 확인 및 서명"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"계약 내용을 확인하시고 전자 서명을 진행해주세요"})]}),"completed"===k.steps.contract.status&&(0,b.jsxs)(h.Badge,{className:"bg-green-600",children:[(0,b.jsx)(aa.CheckCircle2,{className:"mr-1 h-4 w-4"}),"서명 완료"]})]}),!q&&(0,b.jsx)(f.Card,{className:"border-blue-500 bg-blue-50",children:(0,b.jsx)(f.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(ab.AlertCircle,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-blue-900 mb-1",children:"계약서 서명 절차"}),(0,b.jsxs)("ol",{className:"text-sm text-blue-700 space-y-1 list-decimal list-inside",children:[(0,b.jsx)("li",{children:"아래 계약서 내용을 꼼꼼히 확인해주세요"}),(0,b.jsx)("li",{children:"필수 약관에 모두 동의해주세요"}),(0,b.jsx)("li",{children:"전자 서명 영역에 서명해주세요"}),(0,b.jsx)("li",{children:'"계약 완료" 버튼을 눌러 제출하세요'})]})]})]})})}),(0,b.jsx)(J,{contractId:k.contractId,contractTitle:"웨딩 촬영 서비스 계약서",packageName:k.packageName}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(ac,{className:"h-5 w-5"}),"약관 동의 (필수)"]})}),(0,b.jsxs)(f.CardContent,{className:"space-y-4",children:[[{key:"serviceTerms",label:"서비스 이용약관에 동의합니다"},{key:"privacyPolicy",label:"개인정보 처리방침에 동의합니다"},{key:"photoUsage",label:"사진 저작권 및 초상권 관련 조항에 동의합니다"},{key:"refundPolicy",label:"취소 및 환불 정책에 동의합니다"}].map(({key:a,label:c})=>(0,b.jsxs)("label",{className:(0,F.cn)("flex items-center gap-3 p-4 rounded-lg border-2 cursor-pointer transition-all",m[a]?"border-blue-500 bg-blue-50":"border-gray-200 hover:bg-gray-50"),children:[(0,b.jsx)(G,{checked:m[a],onCheckedChange:()=>{n(b=>({...b,[a]:!b[a]}))}}),(0,b.jsx)("span",{className:"text-sm font-medium",children:c})]},a)),!u&&(0,b.jsxs)("p",{className:"text-xs text-red-600 flex items-center gap-1",children:[(0,b.jsx)(ab.AlertCircle,{className:"h-3 w-3"}),"모든 약관에 동의해야 서명을 진행할 수 있습니다"]})]})]}),(0,b.jsxs)("div",{className:(0,F.cn)("transition-opacity duration-300",!u&&"opacity-50 pointer-events-none"),children:[(0,b.jsx)(Z,{ref:l}),(0,b.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,b.jsx)(g.Button,{onClick:()=>{l.current&&(l.current.isEmpty()?ae.toast.error("서명을 해주세요"):(p(l.current.toDataURL()),r(!0),ae.toast.success("서명이 저장되었습니다")))},disabled:!u,className:"flex-1",children:"서명 저장"}),(0,b.jsx)(g.Button,{onClick:w,variant:"outline",disabled:!u,children:"다시 작성"})]})]}),o&&q&&(0,b.jsxs)(f.Card,{className:"border-green-500 bg-green-50",children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)(f.CardTitle,{className:"text-lg flex items-center gap-2 text-green-900",children:[(0,b.jsx)(aa.CheckCircle2,{className:"h-5 w-5"}),"서명 미리보기"]})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border-2 border-green-200",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[k.groomName," & ",k.brideName]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["서명일: ",new Date().toLocaleDateString("ko-KR")]})]}),(0,b.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:w,children:"재작성"})]}),(0,b.jsx)("img",{src:o,alt:"서명",className:"w-full max-w-md h-32 object-contain border rounded"})]})})]}),(0,b.jsx)(f.Card,{children:(0,b.jsxs)(f.CardContent,{className:"pt-6",children:[(0,b.jsx)(g.Button,{onClick:x,disabled:!v||s,className:"w-full h-12 text-lg",size:"lg",children:s?"처리중...":(0,b.jsxs)(b.Fragment,{children:["계약 완료",(0,b.jsx)(ad.ArrowRight,{className:"ml-2 h-5 w-5"})]})}),!v&&(0,b.jsx)("p",{className:"text-xs text-center text-muted-foreground mt-3",children:"모든 약관 동의와 서명이 완료되면 제출할 수 있습니다"})]})})]})})}a.s(["default",()=>af],18726)}];

//# sourceMappingURL=_8f26f51a._.js.map