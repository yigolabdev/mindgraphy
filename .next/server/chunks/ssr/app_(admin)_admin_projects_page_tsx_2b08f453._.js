module.exports=[53045,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(48645),e=a.i(3130),f=a.i(54161),g=a.i(40695),h=a.i(5522),i=a.i(87682);a.i(81410);var j=a.i(18280),k=a.i(34521),l=a.i(62553),m=a.i(65733),n=a.i(7706),o=a.i(7379),p=a.i(23585),q=a.i(46842),r=a.i(92e3),s=a.i(16201),t=a.i(87532),u=a.i(41675),v=a.i(21374),w=a.i(33508),x=a.i(13513),y=a.i(46864),z=a.i(70106);let A=(0,z.default)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);var B=a.i(23292);a.i(3255);var C=a.i(50188);let D={main:{label:"메인 작가",icon:x.Camera,color:"bg-blue-100 text-blue-800 border-blue-200"},assistant:{label:"보조 작가",icon:y.UserCheck,color:"bg-green-100 text-green-800 border-green-200"},iphone:{label:"아이폰 스냅",icon:A,color:"bg-purple-100 text-purple-800 border-purple-200"}};function E({open:a,onOpenChange:d,onAssignPhotographer:e,currentPhotographerIds:j=[],projectName:k,weddingDate:l}){let[z,E]=(0,c.useState)(""),[F,G]=(0,c.useState)([]);(0,c.useEffect)(()=>{a||E("")},[a]);let H=p.mockSchedulePhotographers.filter(a=>a.name.toLowerCase().includes(z.toLowerCase()));return(0,b.jsx)(m.Dialog,{open:a,onOpenChange:d,children:(0,b.jsxs)(m.DialogContent,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(m.DialogHeader,{children:[(0,b.jsxs)(m.DialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(q.User,{className:"h-5 w-5"}),"사진작가 배정 (다중 선택)"]}),(0,b.jsx)(m.DialogDescription,{children:"촬영 프로젝트에 사진작가를 배정하세요. 최대 3명까지 선택 가능합니다."})]}),k&&(0,b.jsxs)("div",{className:"mt-4 p-3 bg-muted rounded-lg space-y-1",children:[(0,b.jsx)("div",{className:"font-semibold text-foreground",children:k}),l&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,b.jsx)(u.Calendar,{className:"h-3 w-3"}),l]})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(t.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,b.jsx)(h.Input,{placeholder:"작가명으로 검색...",value:z,onChange:a=>E(a.target.value),className:"pl-9"})]}),F.length>0&&(0,b.jsxs)("div",{className:"p-4 rounded-lg bg-blue-50 border border-blue-200",children:[(0,b.jsxs)("div",{className:"text-sm font-medium text-blue-900 mb-3 flex items-center justify-between",children:[(0,b.jsxs)("span",{children:["선택된 작가 (",F.length,"명)"]}),(0,b.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:()=>G([]),className:"h-auto py-1 px-2 text-xs",children:"전체 해제"})]}),(0,b.jsx)("div",{className:"space-y-2",children:F.map(a=>(D[a.role].icon,(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border border-blue-100",children:[(0,b.jsx)(n.Avatar,{className:"bg-blue-600 h-9 w-9",children:(0,b.jsx)(n.AvatarFallback,{className:"bg-blue-600 text-white text-sm",children:a.name.charAt(0)})}),(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)("div",{className:"font-medium text-sm",children:a.name})}),(0,b.jsxs)(i.Select,{value:a.role,onValueChange:b=>{var c;return c=a.id,void G(a=>a.map(a=>a.id===c?{...a,role:b}:a))},children:[(0,b.jsx)(i.SelectTrigger,{className:"w-[140px] h-8 text-xs",children:(0,b.jsx)(i.SelectValue,{})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"main",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(x.Camera,{className:"h-3 w-3"}),"메인 작가"]})}),(0,b.jsx)(i.SelectItem,{value:"assistant",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(y.UserCheck,{className:"h-3 w-3"}),"보조 작가"]})}),(0,b.jsx)(i.SelectItem,{value:"iphone",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(A,{className:"h-3 w-3"}),"아이폰 스냅"]})})]})]}),(0,b.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:()=>{var b;return b=a.id,void G(a=>a.filter(a=>a.id!==b))},className:"h-8 w-8 p-0",children:(0,b.jsx)(w.X,{className:"h-4 w-4"})})]},a.id)))})]}),F.length>0&&(0,b.jsx)(o.Separator,{}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"text-sm font-medium mb-2",children:["작가 목록 (",H.length,"명)",(0,b.jsx)("span",{className:"text-xs text-muted-foreground ml-2",children:"클릭하여 선택/해제"})]}),(0,b.jsxs)("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:[H.map(a=>{let c=(a.id,Math.random()>.7?"busy":"available"),d=(a.id,{completedProjects:Math.floor(50*Math.random())+10,rating:(4.5+.5*Math.random()).toFixed(1)}),e=F.some(b=>b.id===a.id),g=j.includes(a.id);return(0,b.jsx)("button",{type:"button",onClick:()=>{var b,c;return b=a.id,c=a.name,void G(a=>{if(a.find(a=>a.id===b))return a.filter(a=>a.id!==b);{let d=0===a.length?"main":"assistant";return[...a,{id:b,name:c,role:d}]}})},className:(0,C.cn)("w-full p-4 rounded-lg border-2 transition-all text-left",e?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(n.Avatar,{className:(0,C.cn)("h-10 w-10",e?"bg-blue-600":"bg-gray-600"),children:(0,b.jsx)(n.AvatarFallback,{className:(0,C.cn)("text-white",e?"bg-blue-600":"bg-gray-600"),children:a.name.charAt(0)})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)("span",{className:"font-semibold",children:a.name}),g&&(0,b.jsx)(f.Badge,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:"기존 배정"}),"available"===c&&!g&&(0,b.jsxs)(f.Badge,{variant:"outline",className:"text-xs bg-green-50 text-green-700 border-green-200",children:[(0,b.jsx)(s.CheckCircle,{className:"mr-1 h-3 w-3"}),"가능"]}),"busy"===c&&(0,b.jsxs)(f.Badge,{variant:"outline",className:"text-xs bg-yellow-50 text-yellow-700 border-yellow-200",children:[(0,b.jsx)(r.AlertCircle,{className:"mr-1 h-3 w-3"}),"바쁨"]})]}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"사진작가"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[(0,b.jsx)(u.Calendar,{className:"h-3 w-3"}),(0,b.jsxs)("span",{children:[d.completedProjects,"건 완료"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[(0,b.jsx)(v.Star,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),(0,b.jsx)("span",{children:d.rating})]})]})]}),e&&(0,b.jsx)(s.CheckCircle,{className:"h-5 w-5 text-blue-600 flex-shrink-0"})]})},a.id)}),0===H.length&&(0,b.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,b.jsx)(q.User,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),(0,b.jsx)("p",{children:"검색 결과가 없습니다"})]})]})]})]}),(0,b.jsxs)(m.DialogFooter,{className:"gap-2 sm:gap-0",children:[(0,b.jsx)(g.Button,{variant:"outline",onClick:()=>{d(!1),G([])},children:"취소"}),(0,b.jsxs)(g.Button,{onClick:()=>{if(0===F.length)return void B.toast.error("최소 1명의 작가를 선택해주세요");if(!F.some(a=>"main"===a.role))return void B.toast.error("메인 작가를 최소 1명 지정해주세요");e(F);let a=F.map(a=>`${a.name}(${D[a.role].label})`).join(", ");B.toast.success(`${a}가 배정되었습니다`),d(!1),G([])},disabled:0===F.length,children:[(0,b.jsx)(s.CheckCircle,{className:"mr-2 h-4 w-4"}),"배정하기 (",F.length,"명)"]})]})]})})}var F=a.i(21958),G=a.i(95116),H=a.i(34846),I=a.i(77895),J=a.i(87234),K=a.i(24987),L=a.i(63519),M=a.i(92258),N=a.i(41710),O=a.i(4720);let P=(0,z.default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var Q=a.i(33350),R=a.i(83497),S=a.i(60246),T=a.i(56711),U=a.i(2491);function V({open:a,onOpenChange:c,project:d}){if(!d)return null;let g=d.assignedPhotographerIds?d.assignedPhotographerIds.map(a=>G.mockPhotographers.find(b=>b.id===a)).filter(Boolean):[],h=G.mockUsers.find(a=>a.id===d.assignedEditorId);return(0,b.jsx)(m.Dialog,{open:a,onOpenChange:c,children:(0,b.jsxs)(m.DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)(m.DialogHeader,{children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)(m.DialogTitle,{className:"text-2xl",children:[d.customer?.groomName," & ",d.customer?.brideName]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:d.projectNumber}),(0,b.jsx)(f.Badge,{className:(0,I.getStatusColor)(d.projectStatus),children:(0,I.getStatusLabel)(d.projectStatus)}),(0,b.jsx)(k.DdayBadge,{targetDate:d.weddingDate,showIcon:!1})]})]})}),(0,b.jsxs)("div",{className:"space-y-6 mt-4",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{className:"text-base",children:"진행 상황"})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)(j.ProgressBar,{value:d.progress,showLabel:!0})})]}),(0,b.jsxs)("div",{className:"grid gap-4 lg:grid-cols-3",children:[(0,b.jsx)("div",{className:"lg:col-span-2 space-y-4",children:(0,b.jsxs)(F.Tabs,{defaultValue:"info",className:"w-full",children:[(0,b.jsxs)(F.TabsList,{className:"grid w-full grid-cols-3",children:[(0,b.jsx)(F.TabsTrigger,{value:"info",children:"촬영 정보"}),(0,b.jsx)(F.TabsTrigger,{value:"customer",children:"고객 정보"}),(0,b.jsx)(F.TabsTrigger,{value:"timeline",children:"타임라인"})]}),(0,b.jsxs)(F.TabsContent,{value:"info",className:"space-y-4 mt-4",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(u.Calendar,{className:"h-4 w-4"}),"일정 정보"]})}),(0,b.jsxs)(e.CardContent,{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"촬영일"}),(0,b.jsx)("div",{className:"font-medium",children:(0,J.formatDate)(d.weddingDate)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"촬영 시간"}),(0,b.jsx)("div",{className:"font-medium",children:d.weddingTime})]})]}),d.makeupInfo&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"메이크업 정보"}),(0,b.jsx)("div",{className:"font-medium",children:d.makeupInfo})]})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(K.MapPin,{className:"h-4 w-4"}),"장소 정보"]})}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"font-medium text-lg",children:d.weddingVenue}),d.specialRequests&&(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"특별 요청사항"}),(0,b.jsx)("div",{className:"text-sm bg-blue-50 border border-blue-200 rounded-lg p-3",children:d.specialRequests})]})]})]})]}),(0,b.jsxs)(F.TabsContent,{value:"customer",className:"space-y-4 mt-4",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(q.User,{className:"h-4 w-4"}),"신랑 정보"]})}),(0,b.jsxs)(e.CardContent,{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"이름"}),(0,b.jsx)("div",{className:"font-medium text-lg",children:d.customer?.groomName})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-sm text-muted-foreground mb-1 flex items-center gap-1",children:[(0,b.jsx)(L.Phone,{className:"h-3 w-3"}),"연락처"]}),(0,b.jsx)("div",{className:"font-medium",children:d.customer?.groomPhone})]})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(q.User,{className:"h-4 w-4"}),"신부 정보"]})}),(0,b.jsxs)(e.CardContent,{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"이름"}),(0,b.jsx)("div",{className:"font-medium text-lg",children:d.customer?.brideName})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-sm text-muted-foreground mb-1 flex items-center gap-1",children:[(0,b.jsx)(L.Phone,{className:"h-3 w-3"}),"연락처"]}),(0,b.jsx)("div",{className:"font-medium",children:d.customer?.bridePhone})]})]})]}),d.customer?.email&&(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(M.Mail,{className:"h-4 w-4"}),"이메일"]})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("div",{className:"font-medium",children:d.customer.email})})]})]}),(0,b.jsx)(F.TabsContent,{value:"timeline",className:"space-y-4 mt-4",children:(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(N.Clock,{className:"h-4 w-4"}),"주요 일정"]})}),(0,b.jsx)(e.CardContent,{className:"space-y-4",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("div",{className:"w-2 bg-blue-500 rounded-full flex-shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:"촬영 생성"}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:(0,T.format)(new Date(d.createdAt),"yyyy년 M월 d일 (EEE) HH:mm",{locale:U.ko})})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("div",{className:"w-2 bg-green-500 rounded-full flex-shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:"촬영 예정일"}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,J.formatDate)(d.weddingDate)," ",d.weddingTime]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("div",{className:"w-2 bg-gray-300 rounded-full flex-shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:"최종 수정"}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:(0,T.format)(new Date(d.updatedAt),"yyyy년 M월 d일 (EEE) HH:mm",{locale:U.ko})})]})]})]})})]})})]})}),(0,b.jsxs)("div",{className:"lg:col-span-1 space-y-4",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(x.Camera,{className:"h-4 w-4"}),"담당자 정보"]})}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"담당 작가"}),g.length>0?(0,b.jsx)("div",{className:"space-y-2",children:g.map((a,c)=>a&&a.user&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(n.Avatar,{className:"h-8 w-8",children:(0,b.jsx)(n.AvatarFallback,{className:"bg-blue-600 text-white text-sm font-semibold",children:a.user.lastName?.charAt(0)||a.user.firstName?.charAt(0)||"P"})}),(0,b.jsxs)("span",{className:"font-medium",children:[a.user.lastName,a.user.firstName]})]},c))}):(0,b.jsx)(f.Badge,{variant:"outline",className:"text-orange-600 border-orange-300 bg-orange-50",children:"미배정"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"담당 에디터"}),h?(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(n.Avatar,{className:"h-8 w-8",children:(0,b.jsx)(n.AvatarFallback,{className:"bg-gray-200 text-gray-700 text-sm",children:h.lastName?.charAt(0)})}),(0,b.jsxs)("span",{className:"font-medium",children:[h.lastName,h.firstName]})]}):(0,b.jsx)(f.Badge,{variant:"outline",className:"text-gray-600 border-gray-300",children:"미배정"})]})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(O.FileText,{className:"h-4 w-4"}),"상품 정보"]})}),(0,b.jsxs)(e.CardContent,{className:"space-y-3",children:[d.projectType&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-sm text-muted-foreground mb-1 flex items-center gap-1",children:[(0,b.jsx)(Q.Tag,{className:"h-3 w-3"}),"상품 타입"]}),(0,b.jsx)("div",{className:"font-medium",children:"wedding"===d.projectType?"일반 웨딩":"hanbok"===d.projectType?"한복 & 캐주얼":"dress_shop"===d.projectType?"가봉 스냅":"baby"===d.projectType?"돌스냅":d.projectType})]}),d.packageId&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-sm text-muted-foreground mb-1 flex items-center gap-1",children:[(0,b.jsx)(R.Package,{className:"h-3 w-3"}),"선택 패키지"]}),(0,b.jsx)("div",{className:"font-medium",children:H.mockProducts.find(a=>a.id===d.packageId)?.name||d.packageId})]}),d.optionIds&&d.optionIds.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-sm text-muted-foreground mb-1 flex items-center gap-1",children:[(0,b.jsx)(Q.Tag,{className:"h-3 w-3"}),"선택 옵션"]}),(0,b.jsx)("div",{className:"space-y-1",children:d.optionIds.map(a=>{let c=H.mockProducts.find(b=>b.id===a);return c?(0,b.jsxs)("div",{className:"text-sm font-medium",children:["• ",c.name]},a):null})})]}),d.referralSource&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-sm text-muted-foreground mb-1 flex items-center gap-1",children:[(0,b.jsx)(S.Users,{className:"h-3 w-3"}),"유입 경로"]}),(0,b.jsx)("div",{className:"font-medium",children:d.referralSource})]}),(0,b.jsxs)("div",{className:"pt-2 border-t",children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"계약 번호"}),(0,b.jsx)("div",{className:"font-medium text-sm text-muted-foreground",children:d.contractId})]})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(P,{className:"h-4 w-4"}),"메모"]})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"작업 메모가 없습니다"})})]})]})]})]})]})})}var W=a.i(17171),X=a.i(46893),Y=a.i(46143),Z=a.i(58116);function $({open:a,onOpenChange:d,onSuccess:e}){let[j,k]=(0,c.useState)("product"),[l,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)({productType:"",clientType:"",groomName:"",brideName:"",groomPhone:"",bridePhone:"",mainContact:"groom",email:"",packageId:"",optionIds:[],weddingDate:"",weddingTime:"",weddingVenue:"",venueAddress:"",photographerIds:[],referralSource:"",specialRequests:""}),r=H.mockProducts.filter(a=>"SNAP"===a.category&&a.isActive&&("wedding"===o.productType||"dress_shop"===o.productType||"baby"===o.productType?!a.id.startsWith("hanbok-"):a.id.startsWith("hanbok-"))),t=H.mockProducts.filter(a=>"OPTION"===a.category&&a.isActive),v=(a,b)=>{p(c=>({...c,[a]:b}))},w=a=>{p(b=>{let c=b.optionIds;return c.includes(a)?{...b,optionIds:c.filter(b=>b!==a)}:{...b,optionIds:[...c,a]}})},y=a=>{p(b=>{let c=b.photographerIds;return c.includes(a)?{...b,photographerIds:c.filter(b=>b!==a)}:c.length>=3?(B.toast.warning("작가는 최대 3명까지 선택할 수 있습니다"),b):{...b,photographerIds:[...c,a]}})},z=async()=>{n(!0);try{await new Promise(a=>setTimeout(a,1e3)),B.toast.success("새 촬영이 등록되었습니다!"),p({productType:"",clientType:"",groomName:"",brideName:"",groomPhone:"",bridePhone:"",mainContact:"groom",email:"",packageId:"",optionIds:[],weddingDate:"",weddingTime:"",weddingVenue:"",venueAddress:"",photographerIds:[],referralSource:"",specialRequests:""}),k("product"),d(!1),e?.()}catch(a){B.toast.error("촬영 등록에 실패했습니다"),console.error("Failed to create project:",a)}finally{n(!1)}},A=a=>({wedding:"일반 웨딩",hanbok:"한복 & 캐주얼",dress_shop:"가봉 스냅",baby:"돌스냅",studio:"스튜디오",outdoor:"야외촬영",pre_wedding:"프리웨딩",family:"가족촬영"})[a]||a;return(0,b.jsx)(m.Dialog,{open:a,onOpenChange:d,children:(0,b.jsxs)(m.DialogContent,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(m.DialogHeader,{children:[(0,b.jsx)(m.DialogTitle,{className:"text-xl",children:"새 촬영 등록"}),(0,b.jsx)(m.DialogDescription,{children:(()=>{switch(j){case"product":return"상품 타입과 고객 기본 정보를 입력해주세요 (고객용 페이지와 동일)";case"package":return"패키지와 추가 옵션을 선택해주세요";case"details":return"촬영 날짜, 장소, 담당 작가를 선택해주세요";case"additional":return"유입 경로와 특별 요청사항을 입력해주세요";case"confirm":return"입력한 정보를 확인해주세요"}})()})]}),(0,b.jsx)("div",{className:"flex items-center justify-between mb-6",children:["product","package","details","additional","confirm"].map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center flex-1",children:[(0,b.jsx)("div",{className:(0,C.cn)("flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium transition-all",j===a?"bg-zinc-900 text-white scale-110":c<["product","package","details","additional","confirm"].indexOf(j)?"bg-green-600 text-white":"bg-zinc-200 text-zinc-500"),children:c+1}),c<4&&(0,b.jsx)("div",{className:(0,C.cn)("flex-1 h-1 mx-2 transition-all",c<["product","package","details","additional","confirm"].indexOf(j)?"bg-green-600":"bg-zinc-200")})]},a))}),(0,b.jsxs)("div",{className:"space-y-6",children:["product"===j&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)(W.Label,{className:"flex items-center gap-2",children:[(0,b.jsx)(Q.Tag,{className:"h-4 w-4"}),"상품 타입 *"]}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-3",children:["wedding","hanbok","dress_shop","baby"].map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>v("productType",a),className:(0,C.cn)("p-4 rounded-lg border-2 transition-all text-left",o.productType===a?"border-zinc-900 bg-zinc-50":"border-zinc-200 hover:border-zinc-300"),children:(0,b.jsx)("div",{className:"font-semibold",children:A(a)})},a))})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)(W.Label,{className:"flex items-center gap-2",children:[(0,b.jsx)(S.Users,{className:"h-4 w-4"}),"고객 유형 *"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("button",{type:"button",onClick:()=>v("clientType","direct"),className:(0,C.cn)("p-4 rounded-lg border-2 transition-all text-left","direct"===o.clientType?"border-zinc-900 bg-zinc-50":"border-zinc-200 hover:border-zinc-300"),children:[(0,b.jsx)("div",{className:"font-semibold",children:"직접 문의"}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:"Instagram, 블로그 등"})]}),(0,b.jsxs)("button",{type:"button",onClick:()=>v("clientType","venue"),className:(0,C.cn)("p-4 rounded-lg border-2 transition-all text-left","venue"===o.clientType?"border-zinc-900 bg-zinc-50":"border-zinc-200 hover:border-zinc-300"),children:[(0,b.jsx)("div",{className:"font-semibold",children:"웨딩홀 제휴"}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:"웨딩홀 통한 유입"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(W.Label,{htmlFor:"groomName",className:"flex items-center gap-2",children:[(0,b.jsx)(q.User,{className:"h-4 w-4"}),"신랑 이름 *"]}),(0,b.jsx)(h.Input,{id:"groomName",placeholder:"김철수",value:o.groomName,onChange:a=>v("groomName",a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(W.Label,{htmlFor:"brideName",className:"flex items-center gap-2",children:[(0,b.jsx)(q.User,{className:"h-4 w-4"}),"신부 이름 *"]}),(0,b.jsx)(h.Input,{id:"brideName",placeholder:"이영희",value:o.brideName,onChange:a=>v("brideName",a.target.value)})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(W.Label,{htmlFor:"groomPhone",children:"신랑 연락처"}),(0,b.jsx)(h.Input,{id:"groomPhone",type:"tel",placeholder:"010-0000-0000",value:o.groomPhone,onChange:a=>v("groomPhone",a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(W.Label,{htmlFor:"bridePhone",children:"신부 연락처"}),(0,b.jsx)(h.Input,{id:"bridePhone",type:"tel",placeholder:"010-0000-0000",value:o.bridePhone,onChange:a=>v("bridePhone",a.target.value)})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(W.Label,{htmlFor:"email",children:"이메일 (선택)"}),(0,b.jsx)(h.Input,{id:"email",type:"email",placeholder:"example@email.com",value:o.email,onChange:a=>v("email",a.target.value)})]})]}),"package"===j&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)(W.Label,{className:"flex items-center gap-2",children:[(0,b.jsx)(R.Package,{className:"h-4 w-4"}),"패키지 선택 *"]}),(0,b.jsx)("div",{className:"space-y-3",children:r.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>v("packageId",a.id),className:(0,C.cn)("w-full p-4 rounded-lg border-2 transition-all text-left",o.packageId===a.id?"border-zinc-900 bg-zinc-50 ring-2 ring-zinc-900/20":"border-zinc-200 hover:border-zinc-300"),children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"font-semibold text-lg",children:a.name}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:a.description.slice(0,3).join(" • ")})]}),(0,b.jsx)("div",{className:"text-right",children:(0,b.jsx)("div",{className:"font-bold text-lg",children:(0,Z.formatCurrency)(a.basePrice)})})]})},a.id))})]}),t.length>0&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)(W.Label,{className:"flex items-center gap-2",children:[(0,b.jsx)(Q.Tag,{className:"h-4 w-4"}),"추가 옵션 (선택)"]}),(0,b.jsx)("div",{className:"space-y-2",children:t.map(a=>(0,b.jsxs)("button",{type:"button",onClick:()=>w(a.id),className:(0,C.cn)("w-full p-3 rounded-lg border-2 transition-all text-left flex items-center gap-3",o.optionIds.includes(a.id)?"border-zinc-900 bg-zinc-50":"border-zinc-200 hover:border-zinc-300"),children:[(0,b.jsx)(Y.Checkbox,{checked:o.optionIds.includes(a.id),onCheckedChange:()=>w(a.id),className:"pointer-events-none"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"font-medium",children:a.name}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground mt-0.5",children:a.description[0]})]}),(0,b.jsxs)("div",{className:"font-semibold text-blue-600",children:["+",(0,Z.formatCurrency)(a.basePrice)]})]},a.id))}),o.optionIds.length>0&&(0,b.jsxs)("p",{className:"text-sm text-blue-600",children:[o.optionIds.length,"개의 옵션이 선택되었습니다"]})]})]}),"details"===j&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(W.Label,{htmlFor:"weddingDate",className:"flex items-center gap-2",children:[(0,b.jsx)(u.Calendar,{className:"h-4 w-4"}),"촬영 날짜 *"]}),(0,b.jsx)(h.Input,{id:"weddingDate",type:"date",value:o.weddingDate,onChange:a=>v("weddingDate",a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(W.Label,{htmlFor:"weddingTime",className:"flex items-center gap-2",children:[(0,b.jsx)(N.Clock,{className:"h-4 w-4"}),"촬영 시간"]}),(0,b.jsx)(h.Input,{id:"weddingTime",type:"time",value:o.weddingTime,onChange:a=>v("weddingTime",a.target.value)})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(W.Label,{htmlFor:"weddingVenue",className:"flex items-center gap-2",children:[(0,b.jsx)(K.MapPin,{className:"h-4 w-4"}),"촬영 장소 *"]}),(0,b.jsx)(h.Input,{id:"weddingVenue",placeholder:"예: 더컨벤션웨딩홀",value:o.weddingVenue,onChange:a=>v("weddingVenue",a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(W.Label,{htmlFor:"venueAddress",children:"상세 주소 (선택)"}),(0,b.jsx)(h.Input,{id:"venueAddress",placeholder:"예: 서울시 강남구 테헤란로 123",value:o.venueAddress,onChange:a=>v("venueAddress",a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)(W.Label,{className:"flex items-center gap-2",children:[(0,b.jsx)(x.Camera,{className:"h-4 w-4"}),"담당 작가 선택 * ",(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:"(최소 1명, 최대 3명)"})]}),(0,b.jsx)("div",{className:"space-y-2",children:G.mockPhotographers.map(a=>(0,b.jsxs)("button",{type:"button",onClick:()=>y(a.id),className:(0,C.cn)("w-full p-3 rounded-lg border-2 transition-all text-left flex items-center gap-3",o.photographerIds.includes(a.id)?"border-zinc-900 bg-zinc-50":"border-zinc-200 hover:border-zinc-300"),children:[(0,b.jsx)(Y.Checkbox,{checked:o.photographerIds.includes(a.id),onCheckedChange:()=>y(a.id),className:"pointer-events-none"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("span",{className:"font-medium",children:[a.user?.lastName,a.user?.firstName]}),(0,b.jsx)(f.Badge,{variant:"available"===a.availabilityStatus?"default":"secondary",className:"text-xs",children:"available"===a.availabilityStatus?"가능":"busy"===a.availabilityStatus?"촬영중":"휴가"})]}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:["경력 ",a.experienceYears,"년 • ⭐ ",a.rating," • ",a.totalProjects,"건"]})]})]},a.id))}),o.photographerIds.length>0&&(0,b.jsxs)("p",{className:"text-sm text-blue-600",children:[o.photographerIds.length,"명의 작가가 선택되었습니다"]})]})]}),"additional"===j&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(W.Label,{htmlFor:"referralSource",className:"flex items-center gap-2",children:[(0,b.jsx)(S.Users,{className:"h-4 w-4"}),"유입 경로 *"]}),(0,b.jsxs)(i.Select,{value:o.referralSource,onValueChange:a=>v("referralSource",a),children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"유입 경로를 선택하세요"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"Instagram",children:"Instagram"}),(0,b.jsx)(i.SelectItem,{value:"Naver Blog",children:"Naver Blog"}),(0,b.jsx)(i.SelectItem,{value:"Facebook",children:"Facebook"}),(0,b.jsx)(i.SelectItem,{value:"웨딩홀 제휴",children:"웨딩홀 제휴"}),(0,b.jsx)(i.SelectItem,{value:"지인 추천",children:"지인 추천"}),(0,b.jsx)(i.SelectItem,{value:"Google 검색",children:"Google 검색"}),(0,b.jsx)(i.SelectItem,{value:"기타",children:"기타"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(W.Label,{htmlFor:"specialRequests",children:"특별 요청사항 (선택)"}),(0,b.jsx)(X.Textarea,{id:"specialRequests",placeholder:"특별히 요청하시거나 주의할 사항이 있다면 입력해주세요 예: 야외 촬영 희망, 가족 단체 사진 중요 등",value:o.specialRequests,onChange:a=>v("specialRequests",a.target.value),rows:5,className:"resize-none"})]})]}),"confirm"===j&&(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)("div",{className:"bg-zinc-50 rounded-lg p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-sm text-zinc-500 mb-3",children:"상품 정보"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"상품 타입:"}),(0,b.jsx)(f.Badge,{variant:"outline",children:o.productType&&A(o.productType)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"고객 유형:"}),(0,b.jsx)("span",{className:"ml-2 font-medium",children:"direct"===o.clientType?"직접 문의":"웨딩홀 제휴"})]})]})]}),(0,b.jsxs)("div",{className:"border-t pt-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm text-zinc-500 mb-3",children:"고객 정보"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"신랑:"}),(0,b.jsx)("span",{className:"ml-2 font-medium",children:o.groomName})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"신부:"}),(0,b.jsx)("span",{className:"ml-2 font-medium",children:o.brideName})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"신랑 연락처:"}),(0,b.jsx)("span",{className:"ml-2",children:o.groomPhone||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"신부 연락처:"}),(0,b.jsx)("span",{className:"ml-2",children:o.bridePhone||"-"})]}),o.email&&(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"이메일:"}),(0,b.jsx)("span",{className:"ml-2",children:o.email})]})]})]}),(0,b.jsxs)("div",{className:"border-t pt-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm text-zinc-500 mb-3",children:"패키지 정보"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"선택 패키지:"}),(0,b.jsx)("span",{className:"ml-2 font-medium",children:H.mockProducts.find(a=>a.id===o.packageId)?.name})]}),o.optionIds.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"추가 옵션:"}),(0,b.jsx)("div",{className:"mt-1 flex flex-wrap gap-1",children:o.optionIds.map(a=>{let c=H.mockProducts.find(b=>b.id===a);return c?(0,b.jsx)(f.Badge,{variant:"secondary",className:"text-xs",children:c.name},a):null})})]})]})]}),(0,b.jsxs)("div",{className:"border-t pt-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm text-zinc-500 mb-3",children:"촬영 정보"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"날짜:"}),(0,b.jsx)("span",{className:"ml-2 font-medium",children:o.weddingDate}),o.weddingTime&&(0,b.jsx)("span",{className:"ml-2",children:o.weddingTime})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"장소:"}),(0,b.jsx)("span",{className:"ml-2",children:o.weddingVenue})]}),o.venueAddress&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"주소:"}),(0,b.jsx)("span",{className:"ml-2 text-xs",children:o.venueAddress})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"담당 작가:"}),(0,b.jsx)("div",{className:"mt-1 flex flex-wrap gap-1",children:o.photographerIds.map(a=>{let c=G.mockPhotographers.find(b=>b.id===a);return c?(0,b.jsxs)(f.Badge,{variant:"secondary",className:"text-xs",children:[c.user?.lastName,c.user?.firstName]},a):null})})]})]})]}),(0,b.jsxs)("div",{className:"border-t pt-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm text-zinc-500 mb-3",children:"추가 정보"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"유입 경로:"}),(0,b.jsx)("span",{className:"ml-2 font-medium",children:o.referralSource})]}),o.specialRequests&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-zinc-500",children:"특별 요청사항:"}),(0,b.jsx)("p",{className:"mt-1 text-xs bg-white rounded p-2 border whitespace-pre-wrap",children:o.specialRequests})]})]})]})]})})]}),(0,b.jsxs)(m.DialogFooter,{className:"gap-2 sm:gap-0",children:["product"!==j&&(0,b.jsx)(g.Button,{variant:"outline",onClick:()=>{let a=["product","package","details","additional","confirm"],b=a.indexOf(j);b>0&&k(a[b-1])},disabled:l,children:"이전"}),"confirm"!==j?(0,b.jsx)(g.Button,{onClick:()=>{if(!(a=>{switch(a){case"product":if(!o.productType)return B.toast.error("상품 타입을 선택해주세요"),!1;if(!o.clientType)return B.toast.error("고객 유형을 선택해주세요"),!1;if(!o.groomName||!o.brideName)return B.toast.error("신랑과 신부 이름을 입력해주세요"),!1;if(!o.groomPhone&&!o.bridePhone)return B.toast.error("최소 한 명의 연락처를 입력해주세요"),!1;return!0;case"package":if(!o.packageId)return B.toast.error("패키지를 선택해주세요"),!1;return!0;case"details":if(!o.weddingDate)return B.toast.error("촬영 날짜를 선택해주세요"),!1;if(!o.weddingVenue)return B.toast.error("촬영 장소를 입력해주세요"),!1;if(0===o.photographerIds.length)return B.toast.error("최소 1명의 작가를 선택해주세요"),!1;return!0;case"additional":if(!o.referralSource)return B.toast.error("유입 경로를 선택해주세요"),!1;return!0;default:return!0}})(j))return;let a=["product","package","details","additional","confirm"],b=a.indexOf(j);b<a.length-1&&k(a[b+1])},children:"다음"}):(0,b.jsxs)(g.Button,{onClick:z,disabled:l,className:"bg-gradient-to-r from-blue-600 to-blue-700",children:[(0,b.jsx)(s.CheckCircle,{className:"mr-2 h-4 w-4"}),l?"등록 중...":"등록 완료"]})]})]})})}var _=a.i(15618);let aa=(0,z.default)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var ab=a.i(77156),ac=a.i(72162),ad=a.i(9941);function ae(){let[a,m]=(0,c.useState)(G.mockProjects),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(!1),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)(""),[A,C]=(0,c.useState)("all"),[D,F]=(0,c.useState)("all"),[H,I]=(0,c.useState)("all"),[K,L]=(0,c.useState)("latest"),M=(0,c.useMemo)(()=>{let b=new Set;return a.forEach(a=>{a.assignedPhotographers?.forEach(a=>{let c=a.user?`${a.user.lastName}${a.user.firstName}`:"미배정";b.add(c)})}),Array.from(b)},[a]),N=a=>({wedding:"일반 웨딩",hanbok:"한복 & 캐주얼",dress_shop:"가봉 스냅",baby:"돌스냅"})[a]||a,O=(0,c.useMemo)(()=>{let b=[...a];if(y){let a=y.toLowerCase();b=b.filter(b=>b.customer?.groomName?.toLowerCase().includes(a)||b.customer?.brideName?.toLowerCase().includes(a)||b.projectNumber?.toLowerCase().includes(a))}return"all"!==A&&(b=b.filter(a=>a.projectStatus===A)),"all"!==D&&(b=b.filter(a=>a.assignedPhotographers?.some(a=>(a.user?`${a.user.lastName}${a.user.firstName}`:"미배정")===D))),"all"!==H&&(b=b.filter(a=>a.projectType===H)),b.sort((a,b)=>{switch(K){case"latest":return new Date(b.createdAt||0).getTime()-new Date(a.createdAt||0).getTime();case"date":return new Date(a.weddingDate).getTime()-new Date(b.weddingDate).getTime();case"progress":return(b.progress||0)-(a.progress||0);case"name":return(a.customer?.groomName||"").localeCompare(b.customer?.groomName||"");default:return 0}}),b},[a,y,A,D,H,K]);return(0,b.jsxs)(d.AdminLayout,{align:"left",children:[(0,b.jsxs)("div",{className:"space-y-4 md:space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:"촬영 관리"}),(0,b.jsxs)("p",{className:"text-sm md:text-base text-muted-foreground",children:["모든 웨딩 촬영을 관리하세요 • 총 ",O.length,"개"]})]}),(0,b.jsxs)(g.Button,{className:"w-full sm:w-auto",onClick:()=>o(!0),children:[(0,b.jsx)(_.Plus,{className:"mr-2 h-4 w-4"}),"새 촬영 등록"]})]}),(0,b.jsx)(e.Card,{className:"border-0 ring-1 ring-zinc-200/50 shadow-sm",children:(0,b.jsx)(e.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(t.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,b.jsx)(h.Input,{placeholder:"고객명 또는 촬영번호 검색...",value:y,onChange:a=>z(a.target.value),className:"pl-9 focus-ring"})]}),(0,b.jsxs)(i.Select,{value:K,onValueChange:a=>L(a),children:[(0,b.jsxs)(i.SelectTrigger,{className:"w-full sm:w-[180px]",children:[(0,b.jsx)(ad.ArrowUpDown,{className:"h-4 w-4 mr-2"}),(0,b.jsx)(i.SelectValue,{placeholder:"정렬"})]}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"latest",children:"최신 등록순"}),(0,b.jsx)(i.SelectItem,{value:"date",children:"촬영 날짜순"}),(0,b.jsx)(i.SelectItem,{value:"progress",children:"진행률 높은순"}),(0,b.jsx)(i.SelectItem,{value:"name",children:"고객명순"})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(ac.SlidersHorizontal,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"font-medium",children:"필터:"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[(0,b.jsxs)(i.Select,{value:A,onValueChange:C,children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"상태"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"all",children:"모든 상태"}),(0,b.jsx)(i.SelectItem,{value:"reserved",children:"예약"}),(0,b.jsx)(i.SelectItem,{value:"in_progress",children:"진행중"}),(0,b.jsx)(i.SelectItem,{value:"editing",children:"편집중"}),(0,b.jsx)(i.SelectItem,{value:"completed",children:"완료"}),(0,b.jsx)(i.SelectItem,{value:"cancelled",children:"취소"})]})]}),(0,b.jsxs)(i.Select,{value:D,onValueChange:F,children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"작가"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"all",children:"모든 작가"}),M.map(a=>(0,b.jsx)(i.SelectItem,{value:a,children:a},a))]})]}),(0,b.jsxs)(i.Select,{value:H,onValueChange:I,children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"촬영 유형"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"all",children:"모든 유형"}),["wedding","hanbok","dress_shop","baby"].map(a=>(0,b.jsx)(i.SelectItem,{value:a,children:N(a)},a))]})]})]}),("all"!==A||"all"!==D||"all"!==H||y)&&(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:"활성 필터:"}),y&&(0,b.jsxs)(f.Badge,{variant:"secondary",className:"gap-1",children:["검색: ",y,(0,b.jsx)("button",{onClick:()=>z(""),className:"ml-1 hover:text-foreground",children:"×"})]}),"all"!==A&&(0,b.jsxs)(f.Badge,{variant:"secondary",className:"gap-1",children:["상태: ",A,(0,b.jsx)("button",{onClick:()=>C("all"),className:"ml-1 hover:text-foreground",children:"×"})]}),"all"!==D&&(0,b.jsxs)(f.Badge,{variant:"secondary",className:"gap-1",children:["작가: ",D,(0,b.jsx)("button",{onClick:()=>F("all"),className:"ml-1 hover:text-foreground",children:"×"})]}),"all"!==H&&(0,b.jsxs)(f.Badge,{variant:"secondary",className:"gap-1",children:["유형: ",N(H),(0,b.jsx)("button",{onClick:()=>I("all"),className:"ml-1 hover:text-foreground",children:"×"})]}),(0,b.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:()=>{z(""),C("all"),F("all"),I("all")},className:"h-6 text-xs",children:"전체 초기화"})]})]})})}),0===O.length?(0,b.jsx)(e.Card,{className:"border-0 ring-1 ring-zinc-200/50",children:(0,b.jsxs)(e.CardContent,{className:"p-12 text-center",children:[(0,b.jsx)(t.Search,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"검색 결과가 없습니다"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"다른 검색어나 필터를 사용해보세요"}),(0,b.jsx)(g.Button,{variant:"outline",onClick:()=>{z(""),C("all"),F("all"),I("all")},children:"필터 초기화"})]})}):(0,b.jsx)("div",{className:"space-y-3 md:space-y-4",children:O.map((a,c)=>(0,b.jsx)(e.Card,{className:"hover:shadow-lg transition-all duration-200 hover:scale-[1.01] border-0 ring-1 ring-zinc-200/50 animate-in fade-in slide-in-from-bottom",style:{animationDelay:`${50*c}ms`},children:(0,b.jsx)(e.CardContent,{className:"pt-4 md:pt-6",children:(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-start sm:items-center gap-2 flex-wrap",children:[(0,b.jsxs)("h3",{className:"text-base md:text-lg font-semibold",children:[a.customer?.groomName," & ",a.customer?.brideName]}),(0,b.jsx)(l.StatusBadge,{status:a.projectStatus}),(0,b.jsx)(k.DdayBadge,{targetDate:a.weddingDate,showIcon:!1}),a.projectType&&(0,b.jsx)(f.Badge,{variant:"outline",className:"hanbok"===a.projectType?"bg-purple-50 text-purple-700 border-purple-200":"dress_shop"===a.projectType?"bg-pink-50 text-pink-700 border-pink-200":"baby"===a.projectType?"bg-blue-50 text-blue-700 border-blue-200":"bg-zinc-50 text-zinc-700 border-zinc-200",children:N(a.projectType)})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs md:text-sm text-muted-foreground",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium",children:"촬영번호:"})," ",a.projectNumber]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium",children:"촬영일:"})," ",(0,J.formatDate)(a.weddingDate)]}),(0,b.jsxs)("div",{className:"truncate",children:[(0,b.jsx)("span",{className:"font-medium",children:"장소:"})," ",a.weddingVenue]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"font-medium",children:"담당작가:"})," ",a.assignedPhotographers&&a.assignedPhotographers.length>0?(0,b.jsx)("span",{className:"text-foreground",children:a.assignedPhotographers.filter(a=>a&&a.user).map((a,c,d)=>(0,b.jsxs)("span",{children:[a.user.lastName,a.user.firstName,c<d.length-1&&", "]},a.id))}):(0,b.jsx)(f.Badge,{variant:"outline",className:"text-xs text-orange-600 border-orange-300 bg-orange-50",children:"미배정"})]})]}),(0,b.jsx)(j.ProgressBar,{value:a.progress,showLabel:!0})]}),(0,b.jsxs)("div",{className:"flex gap-2 flex-col sm:flex-row",children:[(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",className:"w-full sm:w-auto focus-ring transition-all hover:shadow-sm",onClick:()=>{v({id:a.id,name:`${a.customer?.groomName} & ${a.customer?.brideName}`,weddingDate:(0,J.formatDate)(a.weddingDate),currentPhotographerIds:a.assignedPhotographers?.map(a=>a.id)||[]}),q(!0)},children:[(0,b.jsx)(aa,{className:"mr-2 h-4 w-4"}),a.assignedPhotographers&&a.assignedPhotographers.length>0?"작가 변경":"작가 배정"]}),(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",className:"w-full sm:w-auto focus-ring transition-all hover:shadow-sm",onClick:()=>{x(a),s(!0)},children:[(0,b.jsx)(ab.Eye,{className:"mr-2 h-4 w-4"}),"상세보기"]})]})]})})},a.id))})]}),(0,b.jsx)($,{open:n,onOpenChange:o,onSuccess:()=>{B.toast.success("프로젝트가 생성되었습니다")}}),(0,b.jsx)(E,{open:p,onOpenChange:q,onAssignPhotographer:a=>{u&&B.toast.success("작가 배정이 완료되었습니다"),q(!1)},currentPhotographerIds:u?.currentPhotographerIds,projectName:u?.name,weddingDate:u?.weddingDate}),(0,b.jsx)(V,{open:r,onOpenChange:s,project:w})]})}a.s(["default",()=>ae],53045)}];

//# sourceMappingURL=app_%28admin%29_admin_projects_page_tsx_2b08f453._.js.map