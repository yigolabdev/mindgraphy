module.exports=[67861,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(40475),f=a.i(3130),g=a.i(54161),h=a.i(40695),i=a.i(38246),j=a.i(56941),k=a.i(33441),l=a.i(65151),m=a.i(92e3),n=a.i(41710),o=a.i(50522),p=a.i(97895),q=a.i(56711),r=a.i(2491);function s({data:a}){let c=["contract","info","proof","download"],d=a=>{switch(a){case"completed":return(0,b.jsx)(k.Check,{className:"h-5 w-5"});case"in_progress":return(0,b.jsx)(n.Clock,{className:"h-5 w-5"});case"overdue":return(0,b.jsx)(m.AlertCircle,{className:"h-5 w-5"});default:return(0,b.jsx)(l.Circle,{className:"h-5 w-5"})}},e=a=>{switch(a){case"completed":return"bg-green-500 text-white border-green-500";case"in_progress":return"bg-blue-500 text-white border-blue-500";case"overdue":return"bg-red-500 text-white border-red-500";default:return"bg-gray-200 text-gray-500 border-gray-300"}},f=b=>{let c=a.steps[b],d="deadline"in c?c.deadline:void 0;if(!d)return null;let e=(0,j.getDaysUntilDeadline)(d),f=(0,j.isDeadlineNear)(d);return(0,j.isDeadlineOverdue)(d)?{text:`${Math.abs(e)}일 초과`,color:"text-red-600",urgent:!0}:f?{text:0===e?"오늘 마감":`D-${e}`,color:"text-orange-600",urgent:!0}:{text:`${(0,q.format)(new Date(d),"M월 d일",{locale:r.ko})} 마감`,color:"text-gray-600",urgent:!1}};return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsx)("div",{className:"hidden md:block",children:(0,b.jsx)("div",{className:"relative",children:(0,b.jsx)("div",{className:"flex items-center justify-between",children:c.map((g,h)=>{var k;let l=a.steps[g],m=c[h+1],n=m?a.steps[m]:void 0,o=f(g),q="in_progress"===l.status||"overdue"===l.status||"completed"===l.status;return(0,b.jsxs)("div",{className:"flex items-center flex-1",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center",children:[(0,b.jsx)(i.default,{href:q?(0,j.getStepPath)(a.token,g):"#",className:(0,p.cn)("relative z-10 flex h-12 w-12 items-center justify-center rounded-full border-2 transition-all",e(l.status),q&&"hover:scale-110 cursor-pointer",!q&&"cursor-not-allowed"),children:d(l.status)}),(0,b.jsxs)("div",{className:"mt-3 text-center",children:[(0,b.jsx)("p",{className:(0,p.cn)("text-sm font-medium","completed"===l.status&&"text-green-700","in_progress"===l.status&&"text-blue-700","overdue"===l.status&&"text-red-700","pending"===l.status&&"text-gray-500"),children:(0,j.getStepLabel)(g)}),o&&(0,b.jsx)("p",{className:(0,p.cn)("text-xs mt-1",o.color),children:o.text})]})]}),h<c.length-1&&(0,b.jsx)("div",{className:(0,p.cn)("flex-1 h-1 mx-2 rounded transition-all",(k=l.status,n?.status,"completed"===k?"bg-green-500":"bg-gray-300"))})]},g)})})})}),(0,b.jsx)("div",{className:"md:hidden space-y-3",children:c.map((c,g)=>{let h=a.steps[c],k=f(c),l="in_progress"===h.status||"overdue"===h.status||"completed"===h.status;return(0,b.jsx)("div",{children:(0,b.jsx)(i.default,{href:l?(0,j.getStepPath)(a.token,c):"#",className:(0,p.cn)("block rounded-lg border-2 p-4 transition-all","completed"===h.status&&"border-green-500 bg-green-50","in_progress"===h.status&&"border-blue-500 bg-blue-50","overdue"===h.status&&"border-red-500 bg-red-50","pending"===h.status&&"border-gray-300 bg-gray-50",l&&"hover:shadow-md cursor-pointer",!l&&"cursor-not-allowed opacity-60"),children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:(0,p.cn)("flex h-10 w-10 items-center justify-center rounded-full border-2",e(h.status)),children:d(h.status)}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:(0,j.getStepLabel)(c)}),k&&(0,b.jsx)("p",{className:(0,p.cn)("text-xs mt-0.5",k.color),children:k.text})]})]}),l&&(0,b.jsx)(o.ChevronRight,{className:"h-5 w-5 text-gray-400"})]})})},c)})}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{className:"font-medium text-gray-700",children:"전체 진행률"}),(0,b.jsxs)("span",{className:"font-semibold text-gray-900",children:[Object.values(a.steps).filter(a=>"completed"===a.status).length," / ",c.length]})]}),(0,b.jsx)("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 to-green-500 transition-all duration-500",style:{width:`${Object.values(a.steps).filter(a=>"completed"===a.status).length/c.length*100}%`}})})]}),(()=>{let d=c.find(b=>{let c=a.steps[b].status;return"in_progress"===c||"overdue"===c});if(!d)return null;let e=a.steps[d],k=f(d);return(0,b.jsx)("div",{className:(0,p.cn)("rounded-lg border-2 p-4","overdue"===e.status?"border-red-500 bg-red-50":"border-blue-500 bg-blue-50"),children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)(g.Badge,{variant:"overdue"===e.status?"destructive":"default",children:"다음 단계"}),k?.urgent&&(0,b.jsx)(g.Badge,{variant:"destructive",className:"animate-pulse",children:"긴급"})]}),(0,b.jsx)("h3",{className:"font-semibold text-lg mb-1",children:(0,j.getStepLabel)(d)}),k&&(0,b.jsx)("p",{className:(0,p.cn)("text-sm",k.color),children:k.text})]}),(0,b.jsx)(i.default,{href:(0,j.getStepPath)(a.token,d),children:(0,b.jsxs)(h.Button,{size:"lg",className:(0,p.cn)("overdue"===e.status&&"bg-red-600 hover:bg-red-700"),children:["overdue"===e.status?"지금 완료하기":"시작하기",(0,b.jsx)(o.ChevronRight,{className:"ml-2 h-5 w-5"})]})})]})})})()]})}var t=a.i(34521);let u=(0,a.i(70106).default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);var v=a.i(41675),w=a.i(24987),x=a.i(46842),y=a.i(83497),z=a.i(63519),A=a.i(92258),B=a.i(67453);function C({params:a}){let{token:i}=(0,c.use)(a),k=(0,j.getClientDataByToken)(i);k&&k.isValid&&!k.isExpired||(0,d.redirect)(`/c/${i}/invalid`);let l=Object.entries(k.steps).filter(([a,b])=>"deadline"in b&&b.deadline).map(([a,b])=>{let c=b.deadline;return{step:a,deadline:c,days:(0,j.getDaysUntilDeadline)(c),isNear:(0,j.isDeadlineNear)(c),isOverdue:(0,j.isDeadlineOverdue)(c)}}).filter(a=>a.isNear||a.isOverdue);return(0,b.jsx)(e.ClientPortalLayout,{token:i,children:(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-indigo-600 to-purple-600 p-8 text-white shadow-xl",children:[(0,b.jsxs)("div",{className:"relative z-10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)(u,{className:"h-5 w-5 text-red-300 fill-red-300"}),(0,b.jsx)("span",{className:"text-sm font-medium text-indigo-100",children:"환영합니다!"})]}),(0,b.jsxs)("h1",{className:"text-4xl font-bold mb-2",children:[k.groomName," & ",k.brideName]}),(0,b.jsx)("p",{className:"text-indigo-100 mb-6 text-lg",children:"행복한 순간을 함께하게 되어 영광입니다"}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,b.jsx)(t.DdayBadge,{targetDate:k.weddingDate,className:"bg-white/10 backdrop-blur-sm border-white/20 text-white text-lg px-4 py-2",showIcon:!1}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-indigo-100",children:[(0,b.jsx)(v.Calendar,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:(0,q.format)(new Date(k.weddingDate),"yyyy년 M월 d일 (EEE)",{locale:r.ko})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-indigo-100",children:[(0,b.jsx)(w.MapPin,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:k.venueName})]})]})]}),(0,b.jsx)("div",{className:"absolute top-0 right-0 -translate-y-1/4 translate-x-1/4 h-96 w-96 rounded-full bg-white/10"}),(0,b.jsx)("div",{className:"absolute bottom-0 left-0 translate-y-1/4 -translate-x-1/4 h-64 w-64 rounded-full bg-white/10"})]}),l.length>0&&(0,b.jsx)("div",{className:"space-y-3",children:l.map(a=>(0,b.jsxs)("div",{className:(0,p.cn)("flex items-start gap-3 rounded-lg border-2 p-4",a.isOverdue?"border-red-500 bg-red-50":"border-orange-500 bg-orange-50"),children:[(0,b.jsx)(m.AlertCircle,{className:(0,p.cn)("h-5 w-5 mt-0.5 flex-shrink-0",a.isOverdue?"text-red-600":"text-orange-600")}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:(0,p.cn)("font-semibold mb-1",a.isOverdue?"text-red-900":"text-orange-900"),children:a.isOverdue?"마감 기한이 지났습니다!":"마감이 임박했습니다!"}),(0,b.jsx)("p",{className:(0,p.cn)("text-sm",a.isOverdue?"text-red-700":"text-orange-700"),children:a.isOverdue?`${Math.abs(a.days)}일 초과: 빠른 시일 내에 완료해주세요.`:0===a.days?"오늘이 마감일입니다. 지금 바로 완료해주세요!":`D-${a.days}: 서둘러 완료해주세요.`})]})]},a.step))}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(B.CheckCircle2,{className:"h-5 w-5"}),"진행 단계"]})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)(s,{data:k})})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"프로젝트 정보"})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm text-muted-foreground uppercase tracking-wide",children:"예식 정보"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(x.User,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"신랑 & 신부"}),(0,b.jsxs)("p",{className:"font-medium",children:[k.groomName," & ",k.brideName]})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(v.Calendar,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"예식 날짜"}),(0,b.jsx)("p",{className:"font-medium",children:(0,q.format)(new Date(k.weddingDate),"yyyy년 M월 d일 (EEEE)",{locale:r.ko})})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(w.MapPin,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"예식장"}),(0,b.jsx)("p",{className:"font-medium",children:k.venueName})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(y.Package,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"패키지"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("p",{className:"font-medium",children:k.packageName}),(0,b.jsxs)(g.Badge,{variant:"secondary",className:"text-xs",children:["premium"===k.packageType&&"프리미엄","standard"===k.packageType&&"스탠다드","basic"===k.packageType&&"베이직"]})]})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm text-muted-foreground uppercase tracking-wide",children:"담당 작가"}),(0,b.jsxs)("div",{className:"rounded-lg border bg-gradient-to-br from-gray-50 to-gray-100 p-4 space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-12 w-12 rounded-full bg-gray-300 flex items-center justify-center",children:(0,b.jsx)(x.User,{className:"h-6 w-6 text-gray-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-lg",children:k.photographerName}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"웨딩 포토그래퍼"})]})]}),(0,b.jsxs)("div",{className:"space-y-2 pt-2",children:[(0,b.jsxs)("a",{href:`tel:${k.photographerPhone}`,className:"flex items-center gap-2 text-sm hover:text-blue-600 transition-colors",children:[(0,b.jsx)(z.Phone,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:k.photographerPhone})]}),(0,b.jsxs)("a",{href:`mailto:${k.photographerEmail}`,className:"flex items-center gap-2 text-sm hover:text-blue-600 transition-colors",children:[(0,b.jsx)(A.Mail,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:k.photographerEmail})]})]}),(0,b.jsx)("div",{className:"pt-2",children:(0,b.jsx)(h.Button,{variant:"outline",size:"sm",className:"w-full",children:"메시지 보내기"})})]})]})]})})]}),k.steps.proof.totalPhotos&&(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"프루프 선택 현황"})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"선택한 사진"}),(0,b.jsxs)("span",{className:"text-lg font-bold",children:[k.steps.proof.selectedPhotos," / ",k.steps.proof.maxSelections]})]}),(0,b.jsx)("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-600 transition-all duration-500",style:{width:`${(k.steps.proof.selectedPhotos||0)/(k.steps.proof.maxSelections||1)*100}%`}})}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["총 ",k.steps.proof.totalPhotos,"장 중 ",k.steps.proof.maxSelections,"장까지 선택 가능합니다"]})]})})]})]})})}a.s(["default",()=>C],67861)}];

//# sourceMappingURL=app_%28client%29_c_%5Btoken%5D_page_tsx_89ecbbd5._.js.map