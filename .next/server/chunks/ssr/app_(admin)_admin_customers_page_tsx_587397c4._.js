module.exports=[89,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(48645),e=a.i(3130),f=a.i(54161),g=a.i(40695),h=a.i(5522),i=a.i(88237),j=a.i(65733),k=a.i(21958),l=a.i(18280),m=a.i(34521),n=a.i(95116);a.i(3255);var o=a.i(77895),p=a.i(87234),q=a.i(63519),r=a.i(92258),s=a.i(41675),t=a.i(24987),u=a.i(70106);let v=(0,u.default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var w=a.i(63588),x=a.i(24669),y=a.i(46842);let z=(0,u.default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);var A=a.i(67453),B=a.i(41710),C=a.i(92e3);function D({open:a,onOpenChange:c,customer:d}){if(!d)return null;let h=n.mockProjects.filter(a=>a.customerId===d.id),i=n.mockContracts.filter(a=>a.customerId===d.id),u=n.mockPayments.filter(a=>i.some(b=>b.id===a.contractId)),D=u.reduce((a,b)=>a+b.amount,0),E=u.filter(a=>"completed"===a.paymentStatus).reduce((a,b)=>a+b.amount,0),F=u.filter(a=>"pending"===a.paymentStatus).reduce((a,b)=>a+b.amount,0);return(0,b.jsx)(j.Dialog,{open:a,onOpenChange:c,children:(0,b.jsxs)(j.DialogContent,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)(j.DialogHeader,{children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)(j.DialogTitle,{className:"text-2xl flex items-center gap-2",children:[(0,b.jsx)(y.User,{className:"h-6 w-6"}),d.groomName," & ",d.brideName]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,b.jsxs)(f.Badge,{variant:"outline",className:"flex items-center gap-1",children:[(0,b.jsx)(z,{className:"h-3 w-3"}),"고객 ID: ",d.id]}),d.activeProjects>0&&(0,b.jsxs)(f.Badge,{className:"bg-blue-600",children:["진행 중 ",d.activeProjects,"건"]}),d.completedProjects>0&&(0,b.jsxs)(f.Badge,{className:"bg-green-600",children:["완료 ",d.completedProjects,"건"]})]})]})}),(0,b.jsxs)("div",{className:"space-y-6 mt-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:d.totalProjects}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:"총 촬영 건수"})]})})}),(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[(E/1e4).toLocaleString("ko-KR"),"만"]}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:"총 결제금액"})]})})}),(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("div",{className:"text-2xl font-bold text-orange-600",children:[(F/1e4).toLocaleString("ko-KR"),"만"]}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:"미수금"})]})})}),(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:d.latestProject?(0,p.formatDate)(d.latestProject.weddingDate):"-"}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:"최근 촬영일"})]})})})]}),(0,b.jsxs)(k.Tabs,{defaultValue:"projects",className:"w-full",children:[(0,b.jsxs)(k.TabsList,{className:"grid w-full grid-cols-4",children:[(0,b.jsx)(k.TabsTrigger,{value:"projects",children:"촬영 이력"}),(0,b.jsx)(k.TabsTrigger,{value:"contact",children:"연락처"}),(0,b.jsx)(k.TabsTrigger,{value:"payment",children:"결제 정보"}),(0,b.jsx)(k.TabsTrigger,{value:"notes",children:"메모"})]}),(0,b.jsx)(k.TabsContent,{value:"projects",className:"space-y-4 mt-4",children:0===h.length?(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"py-12 text-center text-muted-foreground",children:"촬영 이력이 없습니다"})}):h.map(a=>(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:[(0,b.jsx)("h3",{className:"font-semibold text-lg",children:a.projectNumber}),(0,b.jsx)(f.Badge,{className:(0,o.getStatusColor)(a.projectStatus),children:(0,o.getStatusLabel)(a.projectStatus)}),(0,b.jsx)(m.DdayBadge,{targetDate:a.weddingDate,showIcon:!1})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm text-muted-foreground",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(s.Calendar,{className:"h-4 w-4"}),(0,p.formatDate)(a.weddingDate)," ",a.weddingTime]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(t.MapPin,{className:"h-4 w-4"}),a.weddingVenue]})]}),a.specialRequests&&(0,b.jsxs)("div",{className:"mt-3 text-sm",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"특별 요청: "}),(0,b.jsx)("span",{children:a.specialRequests})]})]})}),(0,b.jsx)(l.ProgressBar,{value:a.progress,showLabel:!0})]})})},a.id))}),(0,b.jsxs)(k.TabsContent,{value:"contact",className:"space-y-4 mt-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(y.User,{className:"h-4 w-4"}),"신랑 정보"]})}),(0,b.jsxs)(e.CardContent,{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"이름"}),(0,b.jsx)("div",{className:"font-medium text-lg",children:d.groomName})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-sm text-muted-foreground mb-1 flex items-center gap-1",children:[(0,b.jsx)(q.Phone,{className:"h-3 w-3"}),"연락처"]}),(0,b.jsx)("div",{className:"font-medium",children:d.groomPhone})]})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(y.User,{className:"h-4 w-4"}),"신부 정보"]})}),(0,b.jsxs)(e.CardContent,{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"이름"}),(0,b.jsx)("div",{className:"font-medium text-lg",children:d.brideName})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-sm text-muted-foreground mb-1 flex items-center gap-1",children:[(0,b.jsx)(q.Phone,{className:"h-3 w-3"}),"연락처"]}),(0,b.jsx)("div",{className:"font-medium",children:d.bridePhone})]})]})]})]}),d.email&&(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(r.Mail,{className:"h-4 w-4"}),"이메일"]})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("div",{className:"font-medium",children:d.email})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(t.MapPin,{className:"h-4 w-4"}),"주소"]})}),(0,b.jsx)(e.CardContent,{children:d.address?(0,b.jsx)("div",{className:"font-medium",children:d.address}):(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"주소 정보가 없습니다"})})]})]}),(0,b.jsxs)(k.TabsContent,{value:"payment",className:"space-y-4 mt-4",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(x.TrendingUp,{className:"h-4 w-4"}),"결제 요약"]})}),(0,b.jsxs)(e.CardContent,{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"총 계약금액"}),(0,b.jsxs)("span",{className:"font-bold text-lg",children:[(D/1e4).toLocaleString("ko-KR"),"만원"]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center text-green-600",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(A.CheckCircle2,{className:"h-4 w-4"}),"입금 완료"]}),(0,b.jsxs)("span",{className:"font-bold",children:[(E/1e4).toLocaleString("ko-KR"),"만원"]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center text-orange-600",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(B.Clock,{className:"h-4 w-4"}),"미수금"]}),(0,b.jsxs)("span",{className:"font-bold",children:[(F/1e4).toLocaleString("ko-KR"),"만원"]})]})]})]}),u.length>0?u.map(a=>{let c="deposit"===a.paymentType?"계약금":"balance"===a.paymentType?"잔금":"additional"===a.paymentType?"추가 결제":"환불";return(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(v,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"font-semibold",children:c}),(0,b.jsx)(f.Badge,{variant:"completed"===a.paymentStatus?"default":"outline",className:"completed"===a.paymentStatus?"bg-green-600":"text-orange-600 border-orange-300",children:"completed"===a.paymentStatus?"입금완료":"pending"===a.paymentStatus?"미입금":"failed"===a.paymentStatus?"입금실패":"환불"})]}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:["결제수단: ",a.paymentMethod]}),a.paymentDate&&(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:["입금일: ",(0,p.formatDate)(a.paymentDate)]}),a.notes&&(0,b.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:a.notes})]}),(0,b.jsx)("div",{className:"text-right",children:(0,b.jsxs)("div",{className:"font-bold text-lg",children:[(a.amount/1e4).toLocaleString("ko-KR"),"만원"]})})]})})},a.id)}):(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"py-12 text-center text-muted-foreground",children:"결제 내역이 없습니다"})})]}),(0,b.jsxs)(k.TabsContent,{value:"notes",className:"space-y-4 mt-4",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(w.MessageSquare,{className:"h-4 w-4"}),"고객 메모"]})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"고객 관련 메모나 특이사항을 기록할 수 있습니다."}),(0,b.jsx)(g.Button,{variant:"outline",className:"w-full",children:"메모 추가"})]})})]}),d.specialRequests&&(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(C.AlertCircle,{className:"h-4 w-4"}),"특별 요청사항"]})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("div",{className:"text-sm bg-blue-50 border border-blue-200 rounded-lg p-3",children:d.specialRequests})})]})]})]})]})]})})}var E=a.i(15618),F=a.i(87532),G=a.i(77156),H=a.i(60246),I=a.i(16201);function J(){let[a,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(null),[m,o]=(0,c.useState)(!1),q=n.mockCustomers.map(a=>{let b=n.mockProjects.filter(b=>b.customerId===a.id),c=n.mockContracts.filter(b=>b.customerId===a.id),d=b.filter(a=>"completed"===a.projectStatus||"delivered"===a.projectStatus).length,e=b.filter(a=>"completed"!==a.projectStatus&&"delivered"!==a.projectStatus&&"cancelled"!==a.projectStatus).length,f=c.reduce((a,b)=>a+(b.totalAmount||0),0);return{...a,totalProjects:b.length,completedProjects:d,activeProjects:e,totalRevenue:f/1e4,latestProject:b[0]}}),r=q.filter(b=>{let c=a.toLowerCase();return b.groomName.toLowerCase().includes(c)||b.brideName.toLowerCase().includes(c)||b.groomPhone?.includes(c)||b.bridePhone?.includes(c)||b.email?.toLowerCase().includes(c)}),s=q.length,t=q.filter(a=>a.activeProjects>0).length,u=q.filter(a=>a.completedProjects>0&&0===a.activeProjects).length,v=q.reduce((a,b)=>a+b.totalRevenue,0),w=s>0?v/s:0;return(0,b.jsxs)(d.AdminLayout,{align:"left",children:[(0,b.jsxs)("div",{className:"space-y-4 md:space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:"고객 관리"}),(0,b.jsx)("p",{className:"text-sm md:text-base text-muted-foreground",children:"고객 정보와 진행 상황을 관리하세요"})]}),(0,b.jsxs)(g.Button,{className:"w-full sm:w-auto",children:[(0,b.jsx)(E.Plus,{className:"mr-2 h-4 w-4"}),"고객 등록"]})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:"전체 고객"}),(0,b.jsx)(H.Users,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:s}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"총 등록 고객 수"})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:"진행 중"}),(0,b.jsx)(B.Clock,{className:"h-4 w-4 text-blue-600"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:t}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"현재 진행 중인 고객"})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:"완료"}),(0,b.jsx)(I.CheckCircle,{className:"h-4 w-4 text-green-600"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-green-600",children:u}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"촬영 완료 고객"})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:"평균 매출"}),(0,b.jsx)(x.TrendingUp,{className:"h-4 w-4 text-purple-600"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[w.toLocaleString("ko-KR"),"만"]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"고객당 평균 매출액"})]})]})]}),(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(F.Search,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)(h.Input,{placeholder:"고객명, 연락처, 이메일로 검색...",value:a,onChange:a=>j(a.target.value),className:"flex-1"})]})})}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{children:"고객 목록"})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)(i.Table,{children:[(0,b.jsx)(i.TableHeader,{children:(0,b.jsxs)(i.TableRow,{children:[(0,b.jsx)(i.TableHead,{children:"고객명"}),(0,b.jsx)(i.TableHead,{children:"연락처"}),(0,b.jsx)(i.TableHead,{children:"이메일"}),(0,b.jsx)(i.TableHead,{className:"text-center",children:"총 촬영"}),(0,b.jsx)(i.TableHead,{className:"text-center",children:"진행중"}),(0,b.jsx)(i.TableHead,{className:"text-center",children:"완료"}),(0,b.jsx)(i.TableHead,{className:"text-right",children:"총 매출"}),(0,b.jsx)(i.TableHead,{className:"text-center",children:"최근 촬영일"}),(0,b.jsx)(i.TableHead,{className:"text-center",children:"작업"})]})}),(0,b.jsx)(i.TableBody,{children:0===r.length?(0,b.jsx)(i.TableRow,{children:(0,b.jsx)(i.TableCell,{colSpan:9,className:"text-center py-8 text-muted-foreground",children:a?"검색 결과가 없습니다.":"등록된 고객이 없습니다."})}):r.map(a=>(0,b.jsxs)(i.TableRow,{children:[(0,b.jsx)(i.TableCell,{children:(0,b.jsxs)("div",{className:"font-medium",children:[a.groomName," & ",a.brideName]})}),(0,b.jsx)(i.TableCell,{children:(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsxs)("div",{children:["신랑: ",a.groomPhone]}),(0,b.jsxs)("div",{className:"text-muted-foreground",children:["신부: ",a.bridePhone]})]})}),(0,b.jsx)(i.TableCell,{className:"text-sm",children:a.email||"-"}),(0,b.jsx)(i.TableCell,{className:"text-center",children:(0,b.jsx)(f.Badge,{variant:"outline",children:a.totalProjects})}),(0,b.jsx)(i.TableCell,{className:"text-center",children:a.activeProjects>0?(0,b.jsx)(f.Badge,{className:"bg-blue-600",children:a.activeProjects}):(0,b.jsx)("span",{className:"text-muted-foreground",children:"-"})}),(0,b.jsx)(i.TableCell,{className:"text-center",children:a.completedProjects>0?(0,b.jsx)(f.Badge,{className:"bg-green-600",children:a.completedProjects}):(0,b.jsx)("span",{className:"text-muted-foreground",children:"-"})}),(0,b.jsxs)(i.TableCell,{className:"text-right font-medium",children:[a.totalRevenue.toLocaleString("ko-KR"),"만"]}),(0,b.jsx)(i.TableCell,{className:"text-center text-sm",children:a.latestProject?(0,p.formatDate)(a.latestProject.weddingDate):"-"}),(0,b.jsx)(i.TableCell,{className:"text-center",children:(0,b.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:()=>{l(a),o(!0)},children:(0,b.jsx)(G.Eye,{className:"h-4 w-4"})})})]},a.id))})]})})})]})]}),(0,b.jsx)(D,{open:m,onOpenChange:o,customer:k})]})}a.s(["default",()=>J],89)}];

//# sourceMappingURL=app_%28admin%29_admin_customers_page_tsx_587397c4._.js.map