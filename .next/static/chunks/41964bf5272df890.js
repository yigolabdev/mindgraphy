(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32189,(e,t,n)=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},65156,(e,t,n)=>{"use strict";var r=e.r(32189);function s(){}function i(){}i.resetWarningCache=s,t.exports=function(){function e(e,t,n,s,i,a){if(a!==r){var o=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:s};return n.PropTypes=n,n}},45009,(e,t,n)=>{t.exports=e.r(65156)()},76611,(e,t,n)=>{e.e,t.exports=function(){var e=[function(e,t){"use strict";function n(e,t,n,r){return({red:r[4*(n*t+e)],green:r[4*(n*t+e)+1],blue:r[4*(n*t+e)+2],alpha:r[4*(n*t+e)+3]}).alpha}function r(e,t,r,s){for(var i=e?1:-1,a=e?0:r-1,o=a;e?o<r:o>-1;o+=i)for(var l=0;l<t;l++)if(n(l,o,t,s))return o;return null}function s(e,t,r,s){for(var i=e?1:-1,a=e?0:t-1,o=a;e?o<t:o>-1;o+=i)for(var l=0;l<r;l++)if(n(o,l,t,s))return o;return null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getContext("2d"),n=e.width,i=e.height,a=t.getImageData(0,0,n,i).data,o=r(!0,n,i,a),l=r(!1,n,i,a),c=s(!0,n,i,a),d=s(!1,n,i,a)-c+1,h=l-o+1,u=t.getImageData(c,o,d,h);return e.width=d,e.height=h,t.clearRect(0,0,d,h),t.putImageData(u,0,0),e}}];function t(r){if(n[r])return n[r].exports;var s=n[r]={exports:{},id:r,loaded:!1};return e[r].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}()},51557,e=>{"use strict";var t=e.i(43476),n=e.i(71645),r=e.i(18566),s=e.i(7267),i=e.i(70065),a=e.i(67881),o=e.i(94179),l=e.i(20783),c=e.i(30030),d=e.i(81140),h=e.i(69340),u=e.i(34620),p=e.i(96626),f=e.i(48425),x="Checkbox",[m,v]=(0,c.createContextScope)(x),[y,g]=m(x);function b(e){let{__scopeCheckbox:r,checked:s,children:i,defaultChecked:a,disabled:o,form:l,name:c,onCheckedChange:d,required:u,value:p="on",internal_do_not_use_render:f}=e,[m,v]=(0,h.useControllableState)({prop:s,defaultProp:a??!1,onChange:d,caller:x}),[g,b]=n.useState(null),[_,j]=n.useState(null),w=n.useRef(!1),N=!g||!!l||!!g.closest("form"),C={checked:m,disabled:o,setChecked:v,control:g,setControl:b,name:c,form:l,value:p,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:!E(a)&&a,isFormControl:N,bubbleInput:_,setBubbleInput:j};return(0,t.jsx)(y,{scope:r,...C,children:"function"==typeof f?f(C):i})}var _="CheckboxTrigger",j=n.forwardRef(({__scopeCheckbox:e,onKeyDown:r,onClick:s,...i},a)=>{let{control:o,value:c,disabled:h,checked:u,required:p,setControl:x,setChecked:m,hasConsumerStoppedPropagationRef:v,isFormControl:y,bubbleInput:b}=g(_,e),j=(0,l.useComposedRefs)(a,x),w=n.useRef(u);return n.useEffect(()=>{let e=o?.form;if(e){let t=()=>m(w.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[o,m]),(0,t.jsx)(f.Primitive.button,{type:"button",role:"checkbox","aria-checked":E(u)?"mixed":u,"aria-required":p,"data-state":T(u),"data-disabled":h?"":void 0,disabled:h,value:c,...i,ref:j,onKeyDown:(0,d.composeEventHandlers)(r,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,d.composeEventHandlers)(s,e=>{m(e=>!!E(e)||!e),b&&y&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})})});j.displayName=_;var w=n.forwardRef((e,n)=>{let{__scopeCheckbox:r,name:s,checked:i,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:d,form:h,...u}=e;return(0,t.jsx)(b,{__scopeCheckbox:r,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:d,name:s,form:h,value:c,internal_do_not_use_render:({isFormControl:e})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j,{...u,ref:n,__scopeCheckbox:r}),e&&(0,t.jsx)(k,{__scopeCheckbox:r})]})})});w.displayName=x;var N="CheckboxIndicator",C=n.forwardRef((e,n)=>{let{__scopeCheckbox:r,forceMount:s,...i}=e,a=g(N,r);return(0,t.jsx)(p.Presence,{present:s||E(a.checked)||!0===a.checked,children:(0,t.jsx)(f.Primitive.span,{"data-state":T(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:n,style:{pointerEvents:"none",...e.style}})})});C.displayName=N;var P="CheckboxBubbleInput",k=n.forwardRef(({__scopeCheckbox:e,...r},s)=>{let i,{control:a,hasConsumerStoppedPropagationRef:o,checked:c,defaultChecked:d,required:h,disabled:p,name:x,value:m,form:v,bubbleInput:y,setBubbleInput:b}=g(P,e),_=(0,l.useComposedRefs)(s,b),j=(i=n.useRef({value:c,previous:c}),n.useMemo(()=>(i.current.value!==c&&(i.current.previous=i.current.value,i.current.value=c),i.current.previous),[c])),w=function(e){let[t,r]=n.useState(void 0);return(0,u.useLayoutEffect)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let n,s;if(!Array.isArray(t)||!t.length)return;let i=t[0];if("borderBoxSize"in i){let e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;n=t.inlineSize,s=t.blockSize}else n=e.offsetWidth,s=e.offsetHeight;r({width:n,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}(a);n.useEffect(()=>{if(!y)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!o.current;if(j!==c&&e){let n=new Event("click",{bubbles:t});y.indeterminate=E(c),e.call(y,!E(c)&&c),y.dispatchEvent(n)}},[y,j,c,o]);let N=n.useRef(!E(c)&&c);return(0,t.jsx)(f.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??N.current,required:h,disabled:p,name:x,value:m,form:v,...r,tabIndex:-1,ref:_,style:{...r.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function E(e){return"indeterminate"===e}function T(e){return E(e)?"indeterminate":e?"checked":"unchecked"}k.displayName=P;var D=e.i(43531),S=e.i(47163);let R=n.forwardRef(({className:e,...n},r)=>(0,t.jsx)(w,{ref:r,className:(0,S.cn)("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...n,children:(0,t.jsx)(C,{className:(0,S.cn)("grid place-content-center text-current"),children:(0,t.jsx)(D.Check,{className:"h-4 w-4"})})}));R.displayName=w.displayName;var O=e.i(78583),M=e.i(40160);function L({contractId:e,contractTitle:n,packageName:r}){return(0,t.jsx)(i.Card,{children:(0,t.jsxs)(i.CardContent,{className:"p-0",children:[(0,t.jsx)("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 rounded-t-lg p-8 border-b",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"text-center space-y-3 pb-6 border-b-2 border-gray-300",children:[(0,t.jsx)("div",{className:"flex items-center justify-center gap-2 mb-2",children:(0,t.jsx)(O.FileText,{className:"h-8 w-8 text-gray-600"})}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"웨딩 촬영 서비스 계약서"}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)(o.Badge,{variant:"secondary",children:r}),(0,t.jsxs)(o.Badge,{variant:"outline",className:"text-xs",children:["계약번호: ",e]})]})]}),(0,t.jsxs)("div",{className:"space-y-6 bg-white rounded-lg p-6 shadow-sm",children:[(0,t.jsxs)("section",{className:"space-y-3",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"제1조 (목적)"}),(0,t.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:'본 계약은 MindGraphy(이하 "갑")와 고객(이하 "을") 간에 웨딩 사진 촬영 및 관련 서비스 제공에 관한 권리와 의무를 명확히 하여 상호 신뢰를 바탕으로 원활한 서비스 이행을 목적으로 한다.'})]}),(0,t.jsxs)("section",{className:"space-y-3",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"제2조 (서비스 내용)"}),(0,t.jsxs)("ul",{className:"list-decimal list-inside space-y-2 text-sm text-gray-700",children:[(0,t.jsx)("li",{children:"본식 촬영 서비스 (예식 당일 전문 포토그래퍼 배정)"}),(0,t.jsx)("li",{children:"메이크업 리허설 촬영 (선택 옵션)"}),(0,t.jsx)("li",{children:"야외 스냅 촬영 (선택 옵션)"}),(0,t.jsx)("li",{children:"원본 사진 전달 (고해상도 JPEG 포맷)"}),(0,t.jsx)("li",{children:"보정 사진 제공 (고객 선택 50장 기준)"}),(0,t.jsx)("li",{children:"온라인 프루프 갤러리 제공 (3주 이내)"}),(0,t.jsx)("li",{children:"최종 앨범 제작 및 배송 (선택 옵션)"})]})]}),(0,t.jsxs)("section",{className:"space-y-3",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"제3조 (계약 금액 및 지불 조건)"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm text-gray-700",children:[(0,t.jsx)("p",{children:"1. 총 계약 금액: 패키지 가격에 준함"}),(0,t.jsx)("p",{children:"2. 계약금(선금): 총 금액의 30% (계약 체결 시)"}),(0,t.jsx)("p",{children:"3. 중도금: 총 금액의 30% (예식 1개월 전)"}),(0,t.jsx)("p",{children:"4. 잔금: 총 금액의 40% (촬영 완료 후)"})]})]}),(0,t.jsxs)("section",{className:"space-y-3",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"제4조 (촬영 일정 및 변경)"}),(0,t.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:"촬영 일정은 상호 협의하에 정하며, 부득이한 사유로 변경이 필요한 경우 최소 7일 전 통보하여야 한다. 천재지변 등 불가항력적인 사유로 인한 일정 변경 시에는 상호 협의하여 새로운 일정을 정한다."})]}),(0,t.jsxs)("section",{className:"space-y-3",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"제5조 (저작권 및 초상권)"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm text-gray-700",children:[(0,t.jsx)("p",{children:'1. 촬영된 사진의 저작권은 "갑"에게 있으며, "을"은 개인적 용도로만 사용할 수 있다.'}),(0,t.jsx)("p",{children:'2. "갑"은 "을"의 동의 하에 촬영 사진을 포트폴리오 및 홍보 목적으로 사용할 수 있다.'}),(0,t.jsx)("p",{children:'3. "을"은 촬영 사진을 상업적 용도로 사용할 수 없다.'})]})]}),(0,t.jsxs)("section",{className:"space-y-3",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"제6조 (취소 및 환불)"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm text-gray-700",children:[(0,t.jsx)("p",{children:"1. 계약 체결 후 7일 이내 취소: 전액 환불"}),(0,t.jsx)("p",{children:"2. 촬영 30일 전 취소: 계약금 공제 후 환불"}),(0,t.jsx)("p",{children:"3. 촬영 14일 전 취소: 중도금까지 공제 후 환불"}),(0,t.jsx)("p",{children:"4. 촬영 7일 전 이후 취소: 환불 불가"})]})]}),(0,t.jsxs)("section",{className:"space-y-3",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"제7조 (책임 사항)"}),(0,t.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:'"갑"은 전문적인 촬영 서비스 제공을 위해 최선을 다하며, "을"은 촬영에 필요한 정보를 정확히 제공하고 촬영 당일 일정을 준수할 의무가 있다. 천재지변, 장비 고장 등 불가항력적 사유로 인한 촬영 불가 시 양측은 상호 협의하여 해결한다.'})]}),(0,t.jsxs)("section",{className:"space-y-3",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"제8조 (분쟁 해결)"}),(0,t.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:"본 계약과 관련하여 분쟁이 발생한 경우, 양 당사자는 우선 협의를 통해 해결하며, 협의가 이루어지지 않을 경우 관할 법원의 판결에 따른다."})]})]}),(0,t.jsxs)("div",{className:"text-center py-6 border-t-2 border-gray-300",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:'본 계약서는 2부를 작성하여 "갑"과 "을"이 각각 1부씩 보관한다.'}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["계약일자: ",new Date().toLocaleDateString("ko-KR")]})]})]})}),(0,t.jsx)("div",{className:"p-4 bg-gray-50 flex justify-end",children:(0,t.jsxs)(a.Button,{variant:"outline",size:"sm",children:[(0,t.jsx)(M.Download,{className:"mr-2 h-4 w-4"}),"PDF 다운로드"]})})]})})}function B(){return(B=Object.assign.bind()).apply(null,arguments)}function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){return(W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(A=function(){return!!e})()}var F=e.i(45009);function I(e,t,n){this.x=e,this.y=t,this.time=n||new Date().getTime()}function H(e,t,n,r){this.startPoint=e,this.control1=t,this.control2=n,this.endPoint=r}function q(e,t){var n,r,s,i,a,o,l,c,d,h=this,u=t||{};(this.velocityFilterWeight=u.velocityFilterWeight||.7,this.minWidth=u.minWidth||.5,this.maxWidth=u.maxWidth||2.5,this.throttle="throttle"in u?u.throttle:16,this.minDistance="minDistance"in u?u.minDistance:5,this.throttle)?this._strokeMoveUpdate=(n=q.prototype._strokeUpdate,r=this.throttle,l=null,c=0,s||(s={}),d=function(){c=!1===s.leading?0:Date.now(),l=null,o=n.apply(i,a),l||(i=a=null)},function(){var e=Date.now();c||!1!==s.leading||(c=e);var t=r-(e-c);return i=this,a=arguments,t<=0||t>r?(l&&(clearTimeout(l),l=null),c=e,o=n.apply(i,a),l||(i=a=null)):l||!1===s.trailing||(l=setTimeout(d,t)),o}):this._strokeMoveUpdate=q.prototype._strokeUpdate,this.dotSize=u.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=u.penColor||"black",this.backgroundColor=u.backgroundColor||"rgba(0,0,0,0)",this.onBegin=u.onBegin,this.onEnd=u.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(e){1===e.which&&(h._mouseButtonDown=!0,h._strokeBegin(e))},this._handleMouseMove=function(e){h._mouseButtonDown&&h._strokeMoveUpdate(e)},this._handleMouseUp=function(e){1===e.which&&h._mouseButtonDown&&(h._mouseButtonDown=!1,h._strokeEnd(e))},this._handleTouchStart=function(e){if(1===e.targetTouches.length){var t=e.changedTouches[0];h._strokeBegin(t)}},this._handleTouchMove=function(e){e.preventDefault();var t=e.targetTouches[0];h._strokeMoveUpdate(t)},this._handleTouchEnd=function(e){e.target===h._canvas&&(e.preventDefault(),h._strokeEnd(e))},this.on()}I.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1},I.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},I.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time},H.prototype.length=function(){for(var e=0,t=void 0,n=void 0,r=0;r<=10;r+=1){var s=r/10,i=this._point(s,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),a=this._point(s,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(r>0){var o=i-t,l=a-n;e+=Math.sqrt(o*o+l*l)}t=i,n=a}return e},H.prototype._point=function(e,t,n,r,s){return t*(1-e)*(1-e)*(1-e)+3*n*(1-e)*(1-e)*e+3*r*(1-e)*e*e+s*e*e*e},q.prototype.clear=function(){var e=this._ctx,t=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0},q.prototype.fromDataURL=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new Image,s=n.ratio||window.devicePixelRatio||1,i=n.width||this._canvas.width/s,a=n.height||this._canvas.height/s;this._reset(),r.src=e,r.onload=function(){t._ctx.drawImage(r,0,0,i,a)},this._isEmpty=!1},q.prototype.toDataURL=function(e){var t;if("image/svg+xml"===e)return this._toSVG();for(var n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return(t=this._canvas).toDataURL.apply(t,[e].concat(r))},q.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},q.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},q.prototype.isEmpty=function(){return this._isEmpty},q.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),"function"==typeof this.onBegin&&this.onBegin(e)},q.prototype._strokeUpdate=function(e){var t=e.clientX,n=e.clientY,r=this._createPoint(t,n),s=this._data[this._data.length-1],i=s&&s[s.length-1],a=i&&r.distanceTo(i)<this.minDistance;if(!(i&&a)){var o=this._addPoint(r),l=o.curve,c=o.widths;l&&c&&this._drawCurve(l,c.start,c.end),this._data[this._data.length-1].push({x:r.x,y:r.y,time:r.time,color:this.penColor})}},q.prototype._strokeEnd=function(e){var t=this.points.length>2,n=this.points[0];if(!t&&n&&this._drawDot(n),n){var r=this._data[this._data.length-1],s=r[r.length-1];n.equals(s)||r.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}"function"==typeof this.onEnd&&this.onEnd(e)},q.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},q.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},q.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},q.prototype._createPoint=function(e,t,n){var r=this._canvas.getBoundingClientRect();return new I(e-r.left,t-r.top,n||new Date().getTime())},q.prototype._addPoint=function(e){var t=this.points;if(t.push(e),t.length>2){3===t.length&&t.unshift(t[0]);var n=this._calculateCurveControlPoints(t[0],t[1],t[2]).c2,r=this._calculateCurveControlPoints(t[1],t[2],t[3]).c1,s=new H(t[1],n,r,t[2]),i=this._calculateCurveWidths(s);return t.shift(),{curve:s,widths:i}}return{}},q.prototype._calculateCurveControlPoints=function(e,t,n){var r=e.x-t.x,s=e.y-t.y,i=t.x-n.x,a=t.y-n.y,o={x:(e.x+t.x)/2,y:(e.y+t.y)/2},l={x:(t.x+n.x)/2,y:(t.y+n.y)/2},c=Math.sqrt(r*r+s*s),d=Math.sqrt(i*i+a*a),h=o.x-l.x,u=o.y-l.y,p=d/(c+d),f={x:l.x+h*p,y:l.y+u*p},x=t.x-f.x,m=t.y-f.y;return{c1:new I(o.x+x,o.y+m),c2:new I(l.x+x,l.y+m)}},q.prototype._calculateCurveWidths=function(e){var t=e.startPoint,n=e.endPoint,r={start:null,end:null},s=this.velocityFilterWeight*n.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(s);return r.start=this._lastWidth,r.end=i,this._lastVelocity=s,this._lastWidth=i,r},q.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)},q.prototype._drawPoint=function(e,t,n){var r=this._ctx;r.moveTo(e,t),r.arc(e,t,n,0,2*Math.PI,!1),this._isEmpty=!1},q.prototype._drawCurve=function(e,t,n){var r=this._ctx,s=n-t,i=Math.floor(e.length());r.beginPath();for(var a=0;a<i;a+=1){var o=a/i,l=o*o,c=l*o,d=1-o,h=d*d,u=h*d,p=u*e.startPoint.x;p+=3*h*o*e.control1.x+3*d*l*e.control2.x+c*e.endPoint.x;var f=u*e.startPoint.y;f+=3*h*o*e.control1.y+3*d*l*e.control2.y+c*e.endPoint.y;var x=t+c*s;this._drawPoint(p,f,x)}r.closePath(),r.fill()},q.prototype._drawDot=function(e){var t=this._ctx,n="function"==typeof this.dotSize?this.dotSize():this.dotSize;t.beginPath(),this._drawPoint(e.x,e.y,n),t.closePath(),t.fill()},q.prototype._fromData=function(e,t,n){for(var r=0;r<e.length;r+=1){var s=e[r];if(s.length>1)for(var i=0;i<s.length;i+=1){var a=s[i],o=new I(a.x,a.y,a.time),l=a.color;if(0===i)this.penColor=l,this._reset(),this._addPoint(o);else if(i!==s.length-1){var c=this._addPoint(o),d=c.curve,h=c.widths;d&&h&&t(d,h,l)}}else this._reset(),n(s[0])}},q.prototype._toSVG=function(){var e=this,t=this._data,n=this._canvas,r=Math.max(window.devicePixelRatio||1,1),s=n.width/r,i=n.height/r,a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttributeNS(null,"width",n.width),a.setAttributeNS(null,"height",n.height),this._fromData(t,function(e,t,n){var r=document.createElement("path");if(!isNaN(e.control1.x)&&!isNaN(e.control1.y)&&!isNaN(e.control2.x)&&!isNaN(e.control2.y)){var s="M "+e.startPoint.x.toFixed(3)+","+e.startPoint.y.toFixed(3)+" "+("C "+e.control1.x.toFixed(3)+",")+e.control1.y.toFixed(3)+" "+(e.control2.x.toFixed(3)+",")+e.control2.y.toFixed(3)+" "+e.endPoint.x.toFixed(3)+","+e.endPoint.y.toFixed(3);r.setAttribute("d",s),r.setAttribute("stroke-width",(2.25*t.end).toFixed(3)),r.setAttribute("stroke",n),r.setAttribute("fill","none"),r.setAttribute("stroke-linecap","round"),a.appendChild(r)}},function(t){var n=document.createElement("circle"),r="function"==typeof e.dotSize?e.dotSize():e.dotSize;n.setAttribute("r",r),n.setAttribute("cx",t.x),n.setAttribute("cy",t.y),n.setAttribute("fill",t.color),a.appendChild(n)});var o='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="0 0 '+s+" ")+i+'" width="'+s+'" height="'+i+'">',l=a.innerHTML;if(void 0===l){var c=document.createElement("dummy"),d=a.childNodes;c.innerHTML="";for(var h=0;h<d.length;h+=1)c.appendChild(d[h].cloneNode(!0));l=c.innerHTML}return"data:image/svg+xml;base64,"+btoa(o+l+"</svg>")},q.prototype.fromData=function(e){var t=this;this.clear(),this._fromData(e,function(e,n){return t._drawCurve(e,n.start,n.end)},function(e){return t._drawDot(e)}),this._data=e},q.prototype.toData=function(){return this._data};var V=e.i(76611),K=["canvasProps","clearOnResize"],G=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),e&&W(s,e);var t,r=(t=A(),function(){var e,n=U(s);e=t?Reflect.construct(n,arguments,U(this).constructor):n.apply(this,arguments);if(e&&("object"==z(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");if(void 0===this)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return this});function s(){var e;if(!(this instanceof s))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,i=Array(t),a=0;a<t;a++)i[a]=arguments[a];return(e=r.call.apply(r,[this].concat(i))).staticThis=e.constructor,e._sigPad=null,e._canvas=null,e.setRef=function(t){e._canvas=t,null===e._canvas&&(e._sigPad=null)},e._excludeOurProps=function(){var t=e.props;return t.canvasProps,t.clearOnResize,function(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(t,K)},e.componentDidMount=function(){var t=e.getCanvas();e._sigPad=new q(t,e._excludeOurProps()),e._resizeCanvas(),e.on()},e.componentWillUnmount=function(){e.off()},e.componentDidUpdate=function(){Object.assign(e._sigPad,e._excludeOurProps())},e.getCanvas=function(){if(null===e._canvas)throw e.staticThis.refNullError;return e._canvas},e.getTrimmedCanvas=function(){var t=e.getCanvas(),n=document.createElement("canvas");return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(t,0,0),(0,V.default)(n)},e.getSignaturePad=function(){if(null===e._sigPad)throw e.staticThis.refNullError;return e._sigPad},e._checkClearOnResize=function(){e.props.clearOnResize&&e._resizeCanvas()},e._resizeCanvas=function(){var t,n,r=null!=(t=e.props.canvasProps)?t:{},s=r.width,i=r.height;if(void 0===s||void 0===i){var a=e.getCanvas(),o=Math.max(null!=(n=window.devicePixelRatio)?n:1,1);void 0===s&&(a.width=a.offsetWidth*o),void 0===i&&(a.height=a.offsetHeight*o),a.getContext("2d").scale(o,o),e.clear()}},e.render=function(){var t=e.props.canvasProps;return n.default.createElement("canvas",B({ref:e.setRef},t))},e.on=function(){return window.addEventListener("resize",e._checkClearOnResize),e.getSignaturePad().on()},e.off=function(){return window.removeEventListener("resize",e._checkClearOnResize),e.getSignaturePad().off()},e.clear=function(){return e.getSignaturePad().clear()},e.isEmpty=function(){return e.getSignaturePad().isEmpty()},e.fromDataURL=function(t,n){return e.getSignaturePad().fromDataURL(t,n)},e.toDataURL=function(t,n){return e.getSignaturePad().toDataURL(t,n)},e.fromData=function(t){return e.getSignaturePad().fromData(t)},e.toData=function(){return e.getSignaturePad().toData()},e}return Object.defineProperty(s,"prototype",{writable:!1}),s}(n.Component);G.propTypes={velocityFilterWeight:F.default.number,minWidth:F.default.number,maxWidth:F.default.number,minDistance:F.default.number,dotSize:F.default.oneOfType([F.default.number,F.default.func]),penColor:F.default.string,throttle:F.default.number,onEnd:F.default.func,onBegin:F.default.func,canvasProps:F.default.object,clearOnResize:F.default.bool},G.defaultProps={clearOnResize:!0},G.refNullError=Error("react-signature-canvas is currently mounting or unmounting: React refs are null during this phase.");var X=e.i(75254);let Y=(0,X.default)("eraser",[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]]),J=(0,n.forwardRef)(({onSave:e},r)=>{let s=(0,n.useRef)(null);return(0,n.useImperativeHandle)(r,()=>({clear:()=>{s.current?.clear()},isEmpty:()=>s.current?.isEmpty()??!0,toDataURL:()=>s.current?.toDataURL()??""})),(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(i.CardTitle,{className:"text-lg",children:"전자 서명"}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)(a.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>{s.current?.clear()},children:[(0,t.jsx)(Y,{className:"mr-2 h-4 w-4"}),"지우기"]})})]})}),(0,t.jsx)(i.CardContent,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"rounded-lg border-2 border-dashed border-gray-300 bg-white p-2",children:(0,t.jsx)(G,{ref:s,canvasProps:{className:"w-full h-48 rounded cursor-crosshair",style:{touchAction:"none"}},backgroundColor:"white",penColor:"black"})}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"위 영역에 마우스나 손가락으로 서명해주세요"})]})})]})});J.displayName="SignatureCanvasComponent";var $=e.i(99997),Q=e.i(71829),Z=e.i(95468),ee=e.i(63209);let et=(0,X.default)("file-check",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);var en=e.i(72520),er=e.i(46696);function es({params:e}){let{token:l}=(0,n.use)(e),c=(0,r.useRouter)(),d=(0,$.getClientDataByToken)(l),h=(0,n.useRef)(null),[u,p]=(0,n.useState)({serviceTerms:!1,privacyPolicy:!1,photoUsage:!1,refundPolicy:!1}),[f,x]=(0,n.useState)(null),[m,v]=(0,n.useState)(!1),[y,g]=(0,n.useState)(!1);if(!d)return c.push(`/c/${l}/invalid`),null;let b=Object.values(u).every(Boolean),_=b&&f&&m,j=()=>{h.current?.clear(),x(null),v(!1)},w=async()=>{_?(g(!0),await new Promise(e=>setTimeout(e,1500)),er.toast.success("계약이 완료되었습니다! 다음 단계로 이동합니다."),setTimeout(()=>{c.push(Q.ROUTES.CLIENT_INFO(l))},1e3)):er.toast.error("모든 약관에 동의하고 서명을 완료해주세요")};return(0,t.jsx)(s.ClientPortalLayout,{token:l,children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"계약서 확인 및 서명"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"계약 내용을 확인하시고 전자 서명을 진행해주세요"})]}),"completed"===d.steps.contract.status&&(0,t.jsxs)(o.Badge,{className:"bg-green-600",children:[(0,t.jsx)(Z.CheckCircle2,{className:"mr-1 h-4 w-4"}),"서명 완료"]})]}),!m&&(0,t.jsx)(i.Card,{className:"border-blue-500 bg-blue-50",children:(0,t.jsx)(i.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(ee.AlertCircle,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-blue-900 mb-1",children:"계약서 서명 절차"}),(0,t.jsxs)("ol",{className:"text-sm text-blue-700 space-y-1 list-decimal list-inside",children:[(0,t.jsx)("li",{children:"아래 계약서 내용을 꼼꼼히 확인해주세요"}),(0,t.jsx)("li",{children:"필수 약관에 모두 동의해주세요"}),(0,t.jsx)("li",{children:"전자 서명 영역에 서명해주세요"}),(0,t.jsx)("li",{children:'"계약 완료" 버튼을 눌러 제출하세요'})]})]})]})})}),(0,t.jsx)(L,{contractId:d.contractId,contractTitle:"웨딩 촬영 서비스 계약서",packageName:d.packageName}),(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsxs)(i.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(et,{className:"h-5 w-5"}),"약관 동의 (필수)"]})}),(0,t.jsxs)(i.CardContent,{className:"space-y-4",children:[[{key:"serviceTerms",label:"서비스 이용약관에 동의합니다"},{key:"privacyPolicy",label:"개인정보 처리방침에 동의합니다"},{key:"photoUsage",label:"사진 저작권 및 초상권 관련 조항에 동의합니다"},{key:"refundPolicy",label:"취소 및 환불 정책에 동의합니다"}].map(({key:e,label:n})=>(0,t.jsxs)("label",{className:(0,S.cn)("flex items-center gap-3 p-4 rounded-lg border-2 cursor-pointer transition-all",u[e]?"border-blue-500 bg-blue-50":"border-gray-200 hover:bg-gray-50"),children:[(0,t.jsx)(R,{checked:u[e],onCheckedChange:()=>{p(t=>({...t,[e]:!t[e]}))}}),(0,t.jsx)("span",{className:"text-sm font-medium",children:n})]},e)),!b&&(0,t.jsxs)("p",{className:"text-xs text-red-600 flex items-center gap-1",children:[(0,t.jsx)(ee.AlertCircle,{className:"h-3 w-3"}),"모든 약관에 동의해야 서명을 진행할 수 있습니다"]})]})]}),(0,t.jsxs)("div",{className:(0,S.cn)("transition-opacity duration-300",!b&&"opacity-50 pointer-events-none"),children:[(0,t.jsx)(J,{ref:h}),(0,t.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,t.jsx)(a.Button,{onClick:()=>{h.current&&(h.current.isEmpty()?er.toast.error("서명을 해주세요"):(x(h.current.toDataURL()),v(!0),er.toast.success("서명이 저장되었습니다")))},disabled:!b,className:"flex-1",children:"서명 저장"}),(0,t.jsx)(a.Button,{onClick:j,variant:"outline",disabled:!b,children:"다시 작성"})]})]}),f&&m&&(0,t.jsxs)(i.Card,{className:"border-green-500 bg-green-50",children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsxs)(i.CardTitle,{className:"text-lg flex items-center gap-2 text-green-900",children:[(0,t.jsx)(Z.CheckCircle2,{className:"h-5 w-5"}),"서명 미리보기"]})}),(0,t.jsx)(i.CardContent,{children:(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4 border-2 border-green-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[d.groomName," & ",d.brideName]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["서명일: ",new Date().toLocaleDateString("ko-KR")]})]}),(0,t.jsx)(a.Button,{variant:"ghost",size:"sm",onClick:j,children:"재작성"})]}),(0,t.jsx)("img",{src:f,alt:"서명",className:"w-full max-w-md h-32 object-contain border rounded"})]})})]}),(0,t.jsx)(i.Card,{children:(0,t.jsxs)(i.CardContent,{className:"pt-6",children:[(0,t.jsx)(a.Button,{onClick:w,disabled:!_||y,className:"w-full h-12 text-lg",size:"lg",children:y?"처리중...":(0,t.jsxs)(t.Fragment,{children:["계약 완료",(0,t.jsx)(en.ArrowRight,{className:"ml-2 h-5 w-5"})]})}),!_&&(0,t.jsx)("p",{className:"text-xs text-center text-muted-foreground mt-3",children:"모든 약관 동의와 서명이 완료되면 제출할 수 있습니다"})]})})]})})}e.s(["default",()=>es],51557)}]);