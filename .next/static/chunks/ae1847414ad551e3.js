(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,37727,e=>{"use strict";let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},94179,e=>{"use strict";var t=e.i(43476),a=e.i(25913),s=e.i(47163);let r=(0,a.cva)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:a,...n}){return(0,t.jsx)("div",{className:(0,s.cn)(r({variant:a}),e),...n})}e.s(["Badge",()=>n])},48425,e=>{"use strict";var t=e.i(71645),a=e.i(74080),s=e.i(91918),r=e.i(43476),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let n=(0,s.createSlot)(`Primitive.${a}`),i=t.forwardRef((e,t)=>{let{asChild:s,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(s?n:a,{...i,ref:t})});return i.displayName=`Primitive.${a}`,{...e,[a]:i}},{});function i(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>n,"dispatchDiscreteCustomEvent",()=>i])},81140,e=>{"use strict";function t(e,a,{checkForDefaultPrevented:s=!0}={}){return function(t){if(e?.(t),!1===s||!t.defaultPrevented)return a?.(t)}}"undefined"!=typeof window&&window.document&&window.document.createElement,e.s(["composeEventHandlers",()=>t])},30030,e=>{"use strict";var t=e.i(71645),a=e.i(43476);function s(e,s){let r=t.createContext(s),n=e=>{let{children:s,...n}=e,i=t.useMemo(()=>n,Object.values(n));return(0,a.jsx)(r.Provider,{value:i,children:s})};return n.displayName=e+"Provider",[n,function(a){let n=t.useContext(r);if(n)return n;if(void 0!==s)return s;throw Error(`\`${a}\` must be used within \`${e}\``)}]}function r(e,s=[]){let n=[],i=()=>{let a=n.map(e=>t.createContext(e));return function(s){let r=s?.[e]||a;return t.useMemo(()=>({[`__scope${e}`]:{...s,[e]:r}}),[s,r])}};return i.scopeName=e,[function(s,r){let i=t.createContext(r),o=n.length;n=[...n,r];let l=s=>{let{scope:r,children:n,...l}=s,d=r?.[e]?.[o]||i,c=t.useMemo(()=>l,Object.values(l));return(0,a.jsx)(d.Provider,{value:c,children:n})};return l.displayName=s+"Provider",[l,function(a,n){let l=n?.[e]?.[o]||i,d=t.useContext(l);if(d)return d;if(void 0!==r)return r;throw Error(`\`${a}\` must be used within \`${s}\``)}]},function(...e){let a=e[0];if(1===e.length)return a;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=s.reduce((t,{useScope:a,scopeName:s})=>{let r=a(e)[`__scope${s}`];return{...t,...r}},{});return t.useMemo(()=>({[`__scope${a.scopeName}`]:r}),[r])}};return s.scopeName=a.scopeName,s}(i,...s)]}e.s(["createContext",()=>s,"createContextScope",()=>r])},69340,34620,96626,e=>{"use strict";var t=e.i(71645),a=globalThis?.document?t.useLayoutEffect:()=>{};e.s(["useLayoutEffect",()=>a],34620),t[" useEffectEvent ".trim().toString()],t[" useInsertionEffect ".trim().toString()];var s=t[" useInsertionEffect ".trim().toString()]||a;function r({prop:e,defaultProp:a,onChange:r=()=>{},caller:n}){let[i,o,l]=function({defaultProp:e,onChange:a}){let[r,n]=t.useState(e),i=t.useRef(r),o=t.useRef(a);return s(()=>{o.current=a},[a]),t.useEffect(()=>{i.current!==r&&(o.current?.(r),i.current=r)},[r,i]),[r,n,o]}({defaultProp:a,onChange:r}),d=void 0!==e,c=d?e:i;{let a=t.useRef(void 0!==e);t.useEffect(()=>{let e=a.current;if(e!==d){let t=d?"controlled":"uncontrolled";console.warn(`${n} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}a.current=d},[d,n])}return[c,t.useCallback(t=>{if(d){let a="function"==typeof t?t(e):t;a!==e&&l.current?.(a)}else o(t)},[d,e,o,l])]}Symbol("RADIX:SYNC_STATE"),e.s(["useControllableState",()=>r],69340);var n=e.i(20783),i=e=>{var s;let r,i,{present:l,children:d}=e,c=function(e){var s,r;let[n,i]=t.useState(),l=t.useRef(null),d=t.useRef(e),c=t.useRef("none"),[m,u]=(s=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},t.useReducer((e,t)=>r[e][t]??e,s));return t.useEffect(()=>{let e=o(l.current);c.current="mounted"===m?e:"none"},[m]),a(()=>{let t=l.current,a=d.current;if(a!==e){let s=c.current,r=o(t);e?u("MOUNT"):"none"===r||t?.display==="none"?u("UNMOUNT"):a&&s!==r?u("ANIMATION_OUT"):u("UNMOUNT"),d.current=e}},[e,u]),a(()=>{if(n){let e,t=n.ownerDocument.defaultView??window,a=a=>{let s=o(l.current).includes(CSS.escape(a.animationName));if(a.target===n&&s&&(u("ANIMATION_END"),!d.current)){let a=n.style.animationFillMode;n.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===n.style.animationFillMode&&(n.style.animationFillMode=a)})}},s=e=>{e.target===n&&(c.current=o(l.current))};return n.addEventListener("animationstart",s),n.addEventListener("animationcancel",a),n.addEventListener("animationend",a),()=>{t.clearTimeout(e),n.removeEventListener("animationstart",s),n.removeEventListener("animationcancel",a),n.removeEventListener("animationend",a)}}u("ANIMATION_END")},[n,u]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:t.useCallback(e=>{l.current=e?getComputedStyle(e):null,i(e)},[])}}(l),m="function"==typeof d?d({present:c.isPresent}):t.Children.only(d),u=(0,n.useComposedRefs)(c.ref,(s=m,(i=(r=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?s.ref:(i=(r=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?s.props.ref:s.props.ref||s.ref));return"function"==typeof d||c.isPresent?t.cloneElement(m,{ref:u}):null};function o(e){return e?.animationName||"none"}i.displayName="Presence",e.s(["Presence",()=>i],96626)},52917,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(26999),r=e.i(37727),n=e.i(47163);let i=s.Root;s.Trigger,s.Close;let o=s.Portal,l=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)(s.Overlay,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a,ref:r}));l.displayName=s.Overlay.displayName;let d=a.forwardRef(({side:e="right",className:a,children:i,...d},c)=>(0,t.jsxs)(o,{children:[(0,t.jsx)(l,{}),(0,t.jsxs)(s.Content,{ref:c,className:(0,n.cn)("fixed z-50 gap-4 bg-white p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500","top"===e&&"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top","bottom"===e&&"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom","left"===e&&"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm","right"===e&&"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-xl",a),...d,children:[i,(0,t.jsxs)(s.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-zinc-100",children:[(0,t.jsx)(r.X,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));d.displayName=s.Content.displayName;let c=({className:e,...a})=>(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...a});c.displayName="SheetHeader";let m=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)(s.Title,{ref:r,className:(0,n.cn)("text-lg font-semibold text-zinc-950",e),...a}));m.displayName=s.Title.displayName;let u=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)(s.Description,{ref:r,className:(0,n.cn)("text-sm text-zinc-500",e),...a}));u.displayName=s.Description.displayName,e.s(["Sheet",()=>i,"SheetContent",()=>d,"SheetDescription",()=>u,"SheetHeader",()=>c,"SheetTitle",()=>m])},87130,e=>{"use strict";let t=(0,e.i(75254).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);e.s(["Filter",()=>t],87130)},14764,e=>{"use strict";let t=(0,e.i(75254).default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);e.s(["Send",()=>t],14764)},43531,e=>{"use strict";let t=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],43531)},63209,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},95468,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},94351,e=>{"use strict";let t=(0,e.i(75254).default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]);e.s(["Home",()=>t],94351)},7267,40160,61659,e=>{"use strict";var t=e.i(43476),a=e.i(22016),s=e.i(18566),r=e.i(94351),n=e.i(78583),i=e.i(73708),o=e.i(75254);let l=(0,o.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>l],40160);let d=(0,o.default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);e.s(["CreditCard",()=>d],61659);var c=e.i(47163),m=e.i(71829);function u({token:e}){let o=(0,s.usePathname)(),u=[{name:"홈",href:m.ROUTES.CLIENT_PORTAL(e),icon:r.Home},{name:"계약서",href:m.ROUTES.CLIENT_CONTRACT(e),icon:n.FileText},{name:"프루프 갤러리",href:m.ROUTES.CLIENT_PROOF(e),icon:i.Image},{name:"다운로드",href:m.ROUTES.CLIENT_DOWNLOAD(e),icon:l},{name:"결제 정보",href:m.ROUTES.CLIENT_PAYMENT(e),icon:d}];return(0,t.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/60",children:(0,t.jsxs)("div",{className:"container mx-auto flex h-16 items-center px-4 max-w-7xl",children:[(0,t.jsxs)(a.default,{href:m.ROUTES.CLIENT_PORTAL(e),className:"flex items-center gap-2 mr-6 flex-shrink-0",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-zinc-900 text-white font-bold text-sm",children:"M"}),(0,t.jsx)("span",{className:"text-lg font-semibold hidden sm:inline-block",children:"MindGraphy"})]}),(0,t.jsx)("nav",{className:"flex items-center gap-1 flex-1 overflow-x-auto",children:u.map(e=>{let s=o===e.href;return(0,t.jsxs)(a.default,{href:e.href,className:(0,c.cn)("flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-colors whitespace-nowrap",s?"bg-zinc-100 text-zinc-900":"text-zinc-600 hover:bg-zinc-50 hover:text-zinc-900"),children:[(0,t.jsx)(e.icon,{className:"h-4 w-4 flex-shrink-0"}),(0,t.jsx)("span",{className:"hidden md:inline",children:e.name})]},e.name)})}),(0,t.jsx)("div",{className:"ml-4 flex items-center gap-2 text-sm flex-shrink-0",children:(0,t.jsx)("span",{className:"hidden sm:inline text-zinc-600 truncate max-w-[200px]",children:"홍길동 & 김영희"})})]})})}function h({children:e,token:a}){return(0,t.jsxs)("div",{className:"min-h-screen bg-zinc-50",children:[(0,t.jsx)(u,{token:a}),(0,t.jsx)("main",{className:"container mx-auto p-4 md:p-6 max-w-7xl",children:e})]})}e.s(["ClientPortalLayout",()=>h],7267)},99997,e=>{"use strict";var t=e.i(95727),a=e.i(51371),s=e.i(1851);let r=new Date,n={"demo-token-2025":{token:"demo-token-2025",isValid:!0,isExpired:!1,groomName:"김민준",brideName:"이서연",weddingDate:(0,s.format)((0,a.subDays)(r,7),"yyyy-MM-dd"),venueName:"서울 그랜드 호텔",contractId:"contract-001",contractStatus:"active",contractSignedAt:(0,s.format)((0,a.subDays)(r,30),"yyyy-MM-dd"),currentStep:"proof",steps:{contract:{status:"completed",completedAt:(0,s.format)((0,a.subDays)(r,30),"yyyy-MM-dd")},info:{status:"completed",completedAt:(0,s.format)((0,a.subDays)(r,28),"yyyy-MM-dd"),deadline:(0,s.format)((0,a.subDays)(r,25),"yyyy-MM-dd")},proof:{status:"in_progress",deadline:(0,s.format)((0,t.addDays)(r,3),"yyyy-MM-dd"),totalPhotos:450,selectedPhotos:35,maxSelections:50},download:{status:"pending"}},photographerName:"박선우",photographerPhone:"010-1234-5678",photographerEmail:"park.photographer@mindgraphy.com",packageName:"프리미엄 웨딩 패키지",packageType:"premium",hasUnreadNotifications:!0,unreadCount:2},"token-001":{token:"token-001",isValid:!0,isExpired:!1,groomName:"홍길동",brideName:"김영희",weddingDate:(0,s.format)((0,t.addDays)(r,60),"yyyy-MM-dd"),venueName:"코엑스 그랜드 볼룸",contractId:"contract-002",contractStatus:"signed",contractSignedAt:(0,s.format)((0,a.subDays)(r,1),"yyyy-MM-dd"),currentStep:"info",steps:{contract:{status:"completed",completedAt:(0,s.format)((0,a.subDays)(r,1),"yyyy-MM-dd")},info:{status:"in_progress",deadline:(0,s.format)((0,t.addDays)(r,7),"yyyy-MM-dd")},proof:{status:"pending"},download:{status:"pending"}},photographerName:"최지훈",photographerPhone:"010-2345-6789",photographerEmail:"choi.photographer@mindgraphy.com",packageName:"스탠다드 웨딩 패키지",packageType:"standard",hasUnreadNotifications:!0,unreadCount:1},"token-002":{token:"token-002",isValid:!0,isExpired:!1,groomName:"박준호",brideName:"윤서아",weddingDate:(0,s.format)((0,t.addDays)(r,45),"yyyy-MM-dd"),venueName:"신라호텔",contractId:"contract-003",contractStatus:"sent",currentStep:"contract",steps:{contract:{status:"in_progress"},info:{status:"pending",deadline:(0,s.format)((0,t.addDays)(r,2),"yyyy-MM-dd")},proof:{status:"pending"},download:{status:"pending"}},photographerName:"김태형",photographerPhone:"010-3456-7890",photographerEmail:"kim.photographer@mindgraphy.com",packageName:"베이직 웨딩 패키지",packageType:"basic",hasUnreadNotifications:!1,unreadCount:0},"token-003":{token:"token-003",isValid:!0,isExpired:!1,groomName:"정우성",brideName:"한가인",weddingDate:(0,s.format)((0,t.addDays)(r,30),"yyyy-MM-dd"),venueName:"파라다이스 호텔",contractId:"contract-004",contractStatus:"active",contractSignedAt:(0,s.format)((0,a.subDays)(r,15),"yyyy-MM-dd"),currentStep:"info",steps:{contract:{status:"completed",completedAt:(0,s.format)((0,a.subDays)(r,15),"yyyy-MM-dd")},info:{status:"overdue",deadline:(0,s.format)((0,a.subDays)(r,2),"yyyy-MM-dd")},proof:{status:"pending"},download:{status:"pending"}},photographerName:"이준희",photographerPhone:"010-4567-8901",photographerEmail:"lee.photographer@mindgraphy.com",packageName:"프리미엄 웨딩 패키지",packageType:"premium",hasUnreadNotifications:!0,unreadCount:3},"token-004":{token:"token-004",isValid:!0,isExpired:!1,groomName:"송중기",brideName:"송혜교",weddingDate:(0,s.format)((0,a.subDays)(r,30),"yyyy-MM-dd"),venueName:"신라호텔",contractId:"contract-005",contractStatus:"completed",contractSignedAt:(0,s.format)((0,a.subDays)(r,90),"yyyy-MM-dd"),currentStep:"download",steps:{contract:{status:"completed",completedAt:(0,s.format)((0,a.subDays)(r,90),"yyyy-MM-dd")},info:{status:"completed",completedAt:(0,s.format)((0,a.subDays)(r,85),"yyyy-MM-dd"),deadline:(0,s.format)((0,a.subDays)(r,80),"yyyy-MM-dd")},proof:{status:"completed",completedAt:(0,s.format)((0,a.subDays)(r,15),"yyyy-MM-dd"),deadline:(0,s.format)((0,a.subDays)(r,10),"yyyy-MM-dd"),totalPhotos:520,selectedPhotos:50,maxSelections:50},download:{status:"in_progress",deadline:(0,s.format)((0,t.addDays)(r,30),"yyyy-MM-dd"),availableFiles:3,downloadedFiles:1}},photographerName:"박선우",photographerPhone:"010-1234-5678",photographerEmail:"park.photographer@mindgraphy.com",packageName:"프리미엄 웨딩 패키지",packageType:"premium",hasUnreadNotifications:!1,unreadCount:0}},i=e=>Math.ceil((new Date(e).getTime()-r.getTime())/864e5);e.s(["getClientDataByToken",0,e=>n[e]||null,"getDaysUntilDeadline",0,i,"getStepLabel",0,e=>({contract:"계약 확인",info:"정보 입력",proof:"사진 선택",download:"다운로드"})[e],"getStepPath",0,(e,t)=>({contract:`/c/${e}/contract`,info:`/c/${e}/info`,proof:`/c/${e}/proof-gallery`,download:`/c/${e}/download`})[t],"isDeadlineNear",0,e=>{let t=i(e);return t>=0&&t<=3},"isDeadlineOverdue",0,e=>0>i(e)])},63059,e=>{"use strict";let t=(0,e.i(75254).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>t],63059)},84762,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(47163);let r=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("textarea",{className:(0,s.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...a}));r.displayName="Textarea",e.s(["Textarea",()=>r])},73375,e=>{"use strict";let t=(0,e.i(75254).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeft",()=>t],73375)},32933,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(18566),r=e.i(7267),n=e.i(70065),i=e.i(67881),o=e.i(94179),l=e.i(84762),d=e.i(52917),c=e.i(99997),m=e.i(71829);let u={skin:"피부 보정",exposure:"노출 조정",trim:"트리밍",general:"일반"},h=(e=450)=>{let t=["ceremony","makeup","outdoor","family","couple"],a=[];for(let s=1;s<=e;s++){let e=t[Math.floor(Math.random()*t.length)];a.push({id:`photo-${s}`,url:`https://picsum.photos/seed/${s}/1200/800`,thumbnail:`https://picsum.photos/seed/${s}/400/300`,category:e,selected:!1,comments:[],tags:[]})}return a};h(450);let p=e=>({ceremony:"본식",makeup:"메이크업",outdoor:"야외",family:"가족",couple:"커플"})[e];var f=e.i(43531),x=e.i(37727),y=e.i(75254);let g=(0,y.default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);var b=e.i(87130);let N=(0,y.default)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),v=(0,y.default)("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);var j=e.i(73375),w=e.i(63059);let k=(0,y.default)("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);var C=e.i(63209),M=e.i(95468),S=e.i(14764),D=e.i(46696),T=e.i(47163);function E({params:e}){let{token:y}=(0,a.use)(e),E=(0,s.useRouter)(),O=(0,c.getClientDataByToken)(y),[A,P]=(0,a.useState)(h(450)),[R,z]=(0,a.useState)("all"),[I,U]=(0,a.useState)("medium"),[$,L]=(0,a.useState)(!1),[_,B]=(0,a.useState)(0),[F,H]=(0,a.useState)(!1),[V,W]=(0,a.useState)(null),[q,X]=(0,a.useState)(""),[K,Y]=(0,a.useState)("general"),G=O?.steps.proof.maxSelections||50,J=A.filter(e=>e.selected).length,Q=J<G,Z=Math.round(J/G*100),ee=(0,a.useMemo)(()=>"all"===R?A:A.filter(e=>e.category===R),[A,R]);if(!O)return E.push(`/c/${y}/invalid`),null;let et=O.steps.proof.deadline,ea=et?(0,c.getDaysUntilDeadline)(et):null,es=!!et&&(0,c.isDeadlineNear)(et),er=!!et&&(0,c.isDeadlineOverdue)(et),en=e=>{P(t=>t.map(t=>t.id===e?t.selected||Q?{...t,selected:!t.selected}:(D.toast.error(`최대 ${G}장까지만 선택할 수 있습니다`),t):t))},ei=()=>{L(!1)},eo=e=>{W(e),H(!0),X(""),Y("general")},el=async()=>{let e=A.filter(e=>e.selected);0===e.length?D.toast.error("최소 1장 이상 선택해주세요"):(console.log("Selected photos:",e.length),await new Promise(e=>setTimeout(e,1500)),D.toast.success(`${e.length}장의 사진이 선택되었습니다!`),setTimeout(()=>{E.push(m.ROUTES.CLIENT_DOWNLOAD(y))},1e3))},ed=ee[_];return(0,t.jsxs)(r.ClientPortalLayout,{token:y,children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"프루프 갤러리"}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:["원하시는 사진을 선택해주세요 (최대 ",G,"장)"]})]}),et&&(es||er)&&(0,t.jsx)(n.Card,{className:(0,T.cn)("border-2",er?"border-red-500 bg-red-50":"border-orange-500 bg-orange-50"),children:(0,t.jsx)(n.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(C.AlertCircle,{className:(0,T.cn)("h-5 w-5 mt-0.5 flex-shrink-0",er?"text-red-600":"text-orange-600")}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:(0,T.cn)("font-semibold mb-1",er?"text-red-900":"text-orange-900"),children:er?"선택 마감이 지났습니다!":"선택 마감이 임박했습니다!"}),(0,t.jsx)("p",{className:(0,T.cn)("text-sm",er?"text-red-700":"text-orange-700"),children:er?`${Math.abs(ea)}일 초과: 빠른 시일 내에 선택을 완료해주세요.`:0===ea?"오늘이 마감일입니다. 지금 바로 선택을 완료해주세요!":`D-${ea}: 서둘러 사진을 선택해주세요.`})]})]})})}),(0,t.jsx)(n.Card,{children:(0,t.jsx)(n.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"선택한 사진"}),(0,t.jsxs)("p",{className:"text-2xl font-bold",children:[J," / ",G]})]}),(0,t.jsxs)(o.Badge,{variant:J>=G?"default":"secondary",className:"text-lg px-3 py-1",children:[Z,"%"]})]}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:(0,T.cn)("h-full transition-all duration-300",J>=G?"bg-green-500":"bg-blue-500"),style:{width:`${Z}%`}})}),J>=G&&(0,t.jsxs)("p",{className:"text-sm text-green-600 flex items-center gap-1",children:[(0,t.jsx)(M.CheckCircle2,{className:"h-4 w-4"}),"모든 사진을 선택했습니다! 선택을 변경하거나 제출할 수 있습니다."]})]})})}),(0,t.jsx)(n.Card,{children:(0,t.jsx)(n.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsx)(b.Filter,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsxs)(i.Button,{variant:"all"===R?"default":"outline",size:"sm",onClick:()=>z("all"),children:["전체 (",A.length,")"]}),["ceremony","makeup","outdoor","family","couple"].map(e=>(0,t.jsxs)(i.Button,{variant:R===e?"default":"outline",size:"sm",onClick:()=>z(e),children:[p(e)," (",A.filter(t=>t.category===e).length,")"]},e))]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(i.Button,{variant:"small"===I?"default":"outline",size:"sm",onClick:()=>U("small"),children:(0,t.jsx)(N,{className:"h-4 w-4"})}),(0,t.jsx)(i.Button,{variant:"medium"===I?"default":"outline",size:"sm",onClick:()=>U("medium"),children:(0,t.jsx)(v,{className:"h-4 w-4"})}),(0,t.jsx)(i.Button,{variant:"large"===I?"default":"outline",size:"sm",onClick:()=>U("large"),children:(0,t.jsx)(v,{className:"h-3 w-3"})})]})]})})}),(0,t.jsx)("div",{className:(0,T.cn)("grid gap-4",{small:"grid-cols-4 md:grid-cols-6 lg:grid-cols-8",medium:"grid-cols-3 md:grid-cols-4 lg:grid-cols-6",large:"grid-cols-2 md:grid-cols-3 lg:grid-cols-4"}[I]),children:ee.map((e,a)=>(0,t.jsxs)("div",{className:"relative group aspect-[4/3] overflow-hidden rounded-lg border-2 transition-all cursor-pointer hover:shadow-lg",style:{borderColor:e.selected?"#3b82f6":"transparent"},children:[(0,t.jsx)("img",{src:e.thumbnail,alt:`Photo ${e.id}`,className:"w-full h-full object-cover",onClick:()=>{B(a),L(!0)}}),(0,t.jsxs)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all",children:[(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),en(e.id)},className:(0,T.cn)("absolute top-2 right-2 w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all",e.selected?"bg-blue-500 border-blue-500":"bg-white border-gray-300 opacity-0 group-hover:opacity-100"),children:e.selected&&(0,t.jsx)(f.Check,{className:"h-5 w-5 text-white"})}),(0,t.jsxs)("button",{onClick:t=>{t.stopPropagation(),eo(e)},className:"absolute top-2 left-2 w-8 h-8 rounded-full bg-white border-2 border-gray-300 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all",children:[(0,t.jsx)(g,{className:"h-4 w-4"}),e.comments.length>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:e.comments.length})]}),(0,t.jsx)("div",{className:"absolute bottom-2 right-2 opacity-0 group-hover:opacity-100 transition-all",children:(0,t.jsx)(k,{className:"h-5 w-5 text-white drop-shadow-lg"})}),(0,t.jsx)("div",{className:"absolute bottom-2 left-2",children:(0,t.jsx)(o.Badge,{className:(0,T.cn)("text-xs",{ceremony:"bg-blue-100 text-blue-800",makeup:"bg-pink-100 text-pink-800",outdoor:"bg-green-100 text-green-800",family:"bg-purple-100 text-purple-800",couple:"bg-red-100 text-red-800"}[e.category]),children:p(e.category)})})]})]},e.id))}),(0,t.jsx)(n.Card,{children:(0,t.jsxs)(n.CardContent,{className:"pt-6",children:[(0,t.jsxs)(i.Button,{onClick:el,disabled:0===J,className:"w-full h-12 text-lg",size:"lg",children:["선택 완료 (",J,"장)"]}),0===J&&(0,t.jsx)("p",{className:"text-xs text-center text-muted-foreground mt-3",children:"최소 1장 이상 선택해주세요"})]})})]}),$&&ed&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-95 flex items-center justify-center",children:[(0,t.jsx)("button",{onClick:ei,className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-white bg-opacity-20 hover:bg-opacity-30 flex items-center justify-center transition-all z-10",children:(0,t.jsx)(x.X,{className:"h-6 w-6 text-white"})}),(0,t.jsx)("button",{onClick:()=>{B(e=>e>0?e-1:ee.length-1)},className:"absolute left-4 w-12 h-12 rounded-full bg-white bg-opacity-20 hover:bg-opacity-30 flex items-center justify-center transition-all",children:(0,t.jsx)(j.ChevronLeft,{className:"h-8 w-8 text-white"})}),(0,t.jsx)("button",{onClick:()=>{B(e=>e<ee.length-1?e+1:0)},className:"absolute right-4 w-12 h-12 rounded-full bg-white bg-opacity-20 hover:bg-opacity-30 flex items-center justify-center transition-all",children:(0,t.jsx)(w.ChevronRight,{className:"h-8 w-8 text-white"})}),(0,t.jsxs)("div",{className:"max-w-6xl max-h-[90vh] px-16",children:[(0,t.jsx)("img",{src:ed.url,alt:ed.id,className:"max-w-full max-h-[90vh] object-contain"}),(0,t.jsxs)("div",{className:"mt-4 text-center space-y-2",children:[(0,t.jsxs)("p",{className:"text-white text-sm",children:[_+1," / ",ee.length]}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsxs)(i.Button,{variant:ed.selected?"default":"secondary",onClick:()=>en(ed.id),children:[ed.selected?(0,t.jsx)(f.Check,{className:"mr-2 h-4 w-4"}):null,ed.selected?"선택됨":"선택하기"]}),(0,t.jsxs)(i.Button,{variant:"secondary",onClick:()=>{eo(ed),ei()},children:[(0,t.jsx)(g,{className:"mr-2 h-4 w-4"}),"코멘트 (",ed.comments.length,")"]})]})]})]})]}),(0,t.jsx)(d.Sheet,{open:F,onOpenChange:H,children:(0,t.jsxs)(d.SheetContent,{className:"w-full sm:max-w-lg overflow-y-auto",children:[(0,t.jsxs)(d.SheetHeader,{children:[(0,t.jsx)(d.SheetTitle,{children:"사진 코멘트"}),(0,t.jsx)(d.SheetDescription,{children:"보정이 필요한 부분이나 요청사항을 남겨주세요"})]}),V&&(0,t.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,t.jsx)("div",{className:"rounded-lg overflow-hidden border",children:(0,t.jsx)("img",{src:V.thumbnail,alt:V.id,className:"w-full"})}),V.comments.length>0&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("h3",{className:"font-semibold",children:["코멘트 (",V.comments.length,")"]}),V.comments.map(e=>(0,t.jsxs)("div",{className:"rounded-lg border p-3 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(o.Badge,{variant:"secondary",className:"text-xs",children:u[e.type]}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.createdAt).toLocaleString("ko-KR")})]}),(0,t.jsx)("p",{className:"text-sm",children:e.text})]},e.id))]}),(0,t.jsxs)("div",{className:"space-y-4 pt-4 border-t",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"새 코멘트 추가"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"코멘트 유형"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["skin","exposure","trim","general"].map(e=>(0,t.jsx)("button",{onClick:()=>Y(e),className:(0,T.cn)("p-2 rounded-lg border-2 text-sm font-medium transition-all",K===e?"border-blue-500 bg-blue-50":"border-gray-200 hover:bg-gray-50"),children:u[e]},e))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"코멘트 내용"}),(0,t.jsx)(l.Textarea,{value:q,onChange:e=>X(e.target.value),placeholder:"요청사항을 입력해주세요...",rows:4})]}),(0,t.jsxs)(i.Button,{onClick:()=>{if(!V||!q.trim())return;let e={id:`comment-${Date.now()}`,type:K,text:q.trim(),createdAt:new Date().toISOString()};P(t=>t.map(t=>t.id===V.id?{...t,comments:[...t.comments,e]}:t)),X(""),D.toast.success("코멘트가 추가되었습니다")},disabled:!q.trim(),className:"w-full",children:[(0,t.jsx)(S.Send,{className:"mr-2 h-4 w-4"}),"코멘트 추가"]})]})]})]})})]})}e.s(["default",()=>E],32933)}]);